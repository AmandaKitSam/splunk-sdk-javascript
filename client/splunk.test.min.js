(function() {

var __exportName = 'splunkjs';

var require=function(a,b){var c=require.resolve(a,b||"/"),d=require.modules[c];if(!d)throw new Error("Failed to resolve module "+a+", tried "+c);var e=d._cached?d._cached:d();return e};require.paths=[],require.modules={},require.extensions=[".js",".coffee"],require._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},require.resolve=function(){return function(a,b){function g(a){if(require.modules[a])return a;for(var b=0;b<require.extensions.length;b++){var c=require.extensions[b];if(require.modules[a+c])return a+c}}function h(a){a=a.replace(/\/+$/,"");var b=a+"/package.json";if(require.modules[b]){var d=require.modules[b](),e=d.browserify;if(typeof e=="object"&&e.main){var f=g(c.resolve(a,e.main));if(f)return f}else if(typeof e=="string"){var f=g(c.resolve(a,e));if(f)return f}else if(d.main){var f=g(c.resolve(a,d.main));if(f)return f}}return g(a+"/index")}function i(a,b){var c=j(b);for(var d=0;d<c.length;d++){var e=c[d],f=g(e+"/"+a);if(f)return f;var i=h(e+"/"+a);if(i)return i}var f=g(a);if(f)return f}function j(a){var b;a==="/"?b=[""]:b=c.normalize(a).split("/");var d=[];for(var e=b.length-1;e>=0;e--){if(b[e]==="node_modules")continue;var f=b.slice(0,e+1).join("/")+"/node_modules";d.push(f)}return d}b||(b="/");if(require._core[a])return a;var c=require.modules.path();b=c.resolve("/",b);var d=b||"/";if(a.match(/^(?:\.\.?\/|\/)/)){var e=g(c.resolve(d,a))||h(c.resolve(d,a));if(e)return e}var f=i(a,d);if(f)return f;throw new Error("Cannot find module '"+a+"'")}}(),require.alias=function(a,b){var c=require.modules.path(),d=null;try{d=require.resolve(a+"/package.json","/")}catch(e){d=require.resolve(a,"/")}var f=c.dirname(d),g=(Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b})(require.modules);for(var h=0;h<g.length;h++){var i=g[h];if(i.slice(0,f.length+1)===f+"/"){var j=i.slice(f.length);require.modules[b+j]=require.modules[f+j]}else i===f&&(require.modules[b]=require.modules[f])}},require.define=function(a,b){var c=require._core[a]?"":require.modules.path().dirname(a),d=function(a){return require(a,c)};d.resolve=function(a){return require.resolve(a,c)},d.modules=require.modules,d.define=require.define;var e={exports:{}};require.modules[a]=function(){return require.modules[a]._cached=e.exports,b.call(e.exports,d,e,e.exports,c,a),require.modules[a]._cached=e.exports,e.exports}},typeof process=="undefined"&&(process={}),process.nextTick||(process.nextTick=function(){var a=[],b=typeof window!="undefined"&&window.postMessage&&window.addEventListener;return b&&window.addEventListener("message",function(b){if(b.source===window&&b.data==="browserify-tick"){b.stopPropagation();if(a.length>0){var c=a.shift();c()}}},!0),function(c){b?(a.push(c),window.postMessage("browserify-tick","*")):setTimeout(c,0)}}()),process.title||(process.title="browser"),process.binding||(process.binding=function(a){if(a==="evals")return require("vm");throw new Error("No such module")}),process.cwd||(process.cwd=function(){return"."}),require.define("path",function(a,b,c,d,e){function f(a,b){var c=[];for(var d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}function g(a,b){var c=0;for(var d=a.length;d>=0;d--){var e=a[d];e=="."?a.splice(d,1):e===".."?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}var h=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;c.resolve=function(){var a="",b=!1;for(var c=arguments.length;c>=-1&&!b;c--){var d=c>=0?arguments[c]:process.cwd();if(typeof d!="string"||!d)continue;a=d+"/"+a,b=d.charAt(0)==="/"}return a=g(f(a.split("/"),function(a){return!!a}),!b).join("/"),(b?"/":"")+a||"."},c.normalize=function(a){var b=a.charAt(0)==="/",c=a.slice(-1)==="/";return a=g(f(a.split("/"),function(a){return!!a}),!b).join("/"),!a&&!b&&(a="."),a&&c&&(a+="/"),(b?"/":"")+a},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(f(a,function(a,b){return a&&typeof a=="string"}).join("/"))},c.dirname=function(a){var b=h.exec(a)[1]||"",c=!1;return b?b.length===1||c&&b.length<=3&&b.charAt(1)===":"?b:b.substring(0,b.length-1):"."},c.basename=function(a,b){var c=h.exec(a)[2]||"";return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return h.exec(a)[3]||""}}),require.define("/tests/test_utils.js",function(a,b,c,d,e){c.setup=function(){var b=a("../splunk");return b.Logger.setLevel("ALL"),{"Callback#callback to object success":function(a){var b=function(a){a(null,"one","two")};b(function(b,c,d){a.strictEqual(c,"one"),a.strictEqual(d,"two"),a.done()})},"Callback#callback to object error - single argument":function(a){var b=function(a){a("one")};b(function(b,c,d){a.strictEqual(b,"one"),a.ok(!c),a.ok(!d),a.done()})},"Callback#callback to object error - multi argument":function(a){var b=function(a){a(["one","two"])};b(function(b,c,d){a.strictEqual(b[0],"one"),a.strictEqual(b[1],"two"),a.ok(!c),a.ok(!d),a.done()})}}};if(b===a.main){var f=a("../contrib/nodeunit/test_reporter"),g=c.setup();f.run([{Tests:g}])}}),require.define("/package.json",function(a,b,c,d,e){b.exports={main:"splunk.js"}}),require.define("/splunk.js",function(a,b,c,d,e){(function(){var d=c||this;process.env=process.env||{},b.exports=d={Logger:a("./lib/log").Logger,Context:a("./lib/context"),Service:a("./lib/service"),Http:a("./lib/http").Http,Utils:a("./lib/utils"),Async:a("./lib/async"),Paths:a("./lib/paths").Paths,Class:a("./lib/jquery.class").Class,Searcher:a("./lib/searcher.js")},typeof window=="undefined"&&(d.NodeHttp=a("./lib/platform/node/node_http").NodeHttp)})()}),require.define("/lib/log.js",function(a,b,c,d,e){(function(){"use strict";var b=a("./utils"),d=c||this,e={ALL:4,INFO:3,WARN:2,ERROR:1,NONE:0},f=function(a){return typeof process.env[a]!="undefined"};f("LOG_LEVEL")?process.env.LOG_LEVEL=e.ERROR:b.isString(process.env.LOG_LEVEL)?e.hasOwnProperty(process.env.LOG_LEVEL)?process.env.LOG_LEVEL=e[process.env.LOG_LEVEL]:process.env.LOG_LEVEL=e.ERROR:b.isNumber(process.env.LOG_LEVEL)||(process.env.LOG_LEVEL=e.ERROR);var g,h,i,j;g=h=i=j=function(){},typeof console!="undefined"&&(g=console.log?function(a){try{console.log.apply(console,arguments)}catch(b){console.log(a)}}:g,i=console.error?function(a){try{console.error.apply(console,arguments)}catch(b){console.error(a)}}:i,h=console.warn?function(a){try{console.warn.apply(console,arguments)}catch(b){console.warn(a)}}:h,j=console.info?function(a){try{console.info.apply(console,arguments)}catch(b){console.info(a)}}:j),c.Logger={log:function(){process.env.LOG_LEVEL>=e.ALL&&g.apply(null,arguments)},error:function(){process.env.LOG_LEVEL>=e.ERROR&&i.apply(null,arguments)},warn:function(){process.env.LOG_LEVEL>=e.WARN&&h.apply(null,arguments)},info:function(){process.env.LOG_LEVEL>=e.INFO&&j.apply(null,arguments)},printMessages:function(a){a=a||{};for(var b in a)if(a.hasOwnProperty(b)){var c=b,d=a[b];for(var e=0;e<d.length;e++){var f="[SPLUNKD] "+d[e];switch(c){case"HTTP":case"FATAL":case"ERROR":this.error(f);break;case"WARN":this.warn(f);break;case"INFO":this.info(f);break;case"HTTP":this.error(f);break;default:this.info(f)}}}},setLevel:function(a){b.isString(a)?e.hasOwnProperty(a)?process.env.LOG_LEVEL=e[a]:process.env.LOG_LEVEL=e.ERROR:b.isNumber(a)?process.env.LOG_LEVEL=a:process.env.LOG_LEVEL=e.ERROR},levels:e}})()}),require.define("/lib/utils.js",function(a,b,c,d,e){(function(){"use strict";var a=c||this;a.bind=function(a,b){return function(){return b.apply(a,arguments)}},a.trim=function(a){return a=a||"",String.prototype.trim?String.prototype.trim.call(a):a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},a.indexOf=function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},a.contains=function(b,c){return b=b||[],a.indexOf(b,c)>=0},a.startsWith=function(a,b){var c=a.match("^"+b);return c&&c.length>0&&c[0]===b},a.endsWith=function(a,b){var c=a.match(b+"$");return c&&c.length>0&&c[0]===b};var b=Object.prototype.toString;a.toArray=function(a){return Array.prototype.slice.call(a)},a.isArray=Array.isArray||function(a){return b.call(a)==="[object Array]"},a.isFunction=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},a.isNumber=function(a){return!!(a===0||a&&a.toExponential&&a.toFixed)},a.isString=function(a){return!!(a===""||a&&a.charCodeAt&&a.substr)},a.isObject=function(a){return a===Object(a)},a.isEmpty=function(b){if(a.isArray(b)||a.isString(b))return b.length===0;for(var c in b)if(this.hasOwnProperty.call(b,c))return!1;return!0},a.extend=function(a){return each(slice.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},a.clone=function(b){return a.isObject(b)?a.isArray(b)?b.slice():a.extend({},b):b},a.namespaceFromProperties=function(a){return{owner:a.acl.owner,app:a.acl.app,sharing:a.acl.sharing}}})()}),require.define("/lib/context.js",function(a,b,c,d,e){(function(){"use strict";var d=a("./paths").Paths,e=a("./jquery.class").Class,f=a("./http").Http,g=a("./utils"),h=c||this;b.exports=h=e.extend({init:function(b,c){!(b instanceof f)&&!c&&(c=b,b=null),c=c||{},this.scheme=c.scheme||"https",this.host=c.host||"localhost",this.port=c.port||8089,this.username=c.username||null,this.password=c.password||null,this.owner=c.owner,this.app=c.app,this.sessionKey=c.sessionKey||"";if(!b)if(typeof window!="undefined"){var d=a("./platform/client/easyxdm_http").XdmHttp;b=new d(this.scheme+"://"+this.host+":"+this.port)}else{var e=a("./platform/node/node_http").NodeHttp;b=new e}this.http=b,this.prefix=this.scheme+"://"+this.host+":"+this.port+"/services/json/v2",this._headers=g.bind(this,this._headers),this.fullpath=g.bind(this,this.fullpath),this.urlify=g.bind(this,this.urlify),this.get=g.bind(this,this.get),this.del=g.bind(this,this.del),this.post=g.bind(this,this.post),this.login=g.bind(this,this.login)},_headers:function(a){return a=a||{},a.Authorization="Splunk "+this.sessionKey,a},fullpath:function(a,b){b=b||{};if(g.startsWith(a,"/"))return a;if(!b.app&&!this.app&&b.sharing!==h.Sharing.SYSTEM)return"/services/"+a;var c=b.owner||this.owner||"-",d=b.app||this.app||"-";return b.sharing=(b.sharing||"").toLowerCase(),b.sharing===h.Sharing.APP||b.sharing===h.Sharing.GLOBAL?c="nobody":b.sharing===h.Sharing.SYSTEM&&(c="nobody",d="system"),g.trim("/servicesNS/"+c+"/"+d+"/"+a)},urlify:function(a){return this.prefix+this.fullpath(a)},login:function(a){var b=this,c=d.login,e={username:this.username,password:this.password};a=a||function(){};var f=function(c,d){c?a(c,!1):(b.sessionKey=d.data.entry.content.sessionKey,a(null,!0))};return this.post(c,e,f)},get:function(a,b,c){return this.http.get(this.urlify(a),this._headers(),b,0,c)},del:function(a,b,c){return this.http.del(this.urlify(a),this._headers(),b,0,c)},post:function(a,b,c){return this.http.post(this.urlify(a),this._headers(),b,0,c)},request:function(a,b,c,d,e){return this.http.request(this.urlify(a),{method:b,headers:this._headers(c),body:d,timeout:0},e)}}),h.Sharing={USER:"user",APP:"app",GLOBAL:"global",SYSTEM:"system"}})()}),require.define("/lib/paths.js",function(a,b,c,d,e){(function(){"use strict";var a=c||this;a.Paths={apps:"/services/apps/local",capabilities:"authorization/capabilities",configurations:"configs",deploymentClient:"deployment/client",deploymentServers:"deployment/server",deploymentServerClasses:"deployment/serverclass",deploymentTenants:"deployment/tenants",eventTypes:"saved/eventTypes",indexes:"data/indexes",info:"server/info",inputs:null,jobs:"search/jobs",licenseGroups:"licenser/groups",licenseMessages:"licenser/messages",licensePools:"licenser/pools",licenseSlaves:"licenser/slaves",licenseStacks:"licenser/stacks",licenses:"licenser/licenses",loggers:"server/logger",login:"/services/auth/login",messages:"messages",passwords:"admin/passwords",properties:"properties",roles:"authentication/roles",savedSearches:"saved/searches",settings:"server/settings",users:"/services/authentication/users",views:"data/ui/views",currentUser:"/services/authentication/current-context",submitEvent:"receivers/simple"}})()}),require.define("/lib/jquery.class.js",function(a,b,c,d,e){(function(){var a=c||this,b=!1,d=/xyz/.test(function(){return xyz})?/\b_super\b/:/.*/;a.Class=function(){},a.Class.extend=function(a){function g(){!b&&this.init&&this.init.apply(this,arguments)}var c=this.prototype;b=!0;var e=new this;b=!1;for(var f in a)e[f]=typeof a[f]=="function"&&typeof c[f]=="function"&&d.test(a[f])?function(a,b){return function(){var d=this._super;this._super=c[a];var e=b.apply(this,arguments);return this._super=d,e}}(f,a[f]):a[f];return g.prototype=e,g.constructor=g,g.extend=arguments.callee,g}})()}),require.define("/lib/http.js",function(a,b,c,d,e){(function(){"use strict";var b=a("./jquery.class").Class,d=a("./log").Logger,e=a("./utils"),f=c||this;f.encode=function(a){var b="";for(var c in a)if(a.hasOwnProperty(c)){b&&b[b.length-1]!=="&"&&(b+="&");var d=a[c];if(d instanceof Array)for(var e=0;e<d.length;e++)b=b+c+"="+encodeURIComponent(d[e])+"&";else if(typeof d=="object"){for(var f in d)if(d.hasOwnProperty(f)){var g=d[f];b=b+c+"="+encodeURIComponent(d[f])+"&"}}else b=b+c+"="+encodeURIComponent(d)}return b[b.length-1]==="&"&&(b=b.substr(0,b.length-1)),b},f.Http=b.extend({init:function(a){this.isSplunk=a===undefined?!0:a,this.get=e.bind(this,this.get),this.del=e.bind(this,this.del),this.post=e.bind(this,this.post),this.request=e.bind(this,this.request),this._buildResponse=e.bind(this,this._buildResponse)},get:function(a,b,c,d,e){var g=a+"?"+f.encode(c),h={method:"GET",headers:b,timeout:d};return this.request(g,h,e)},post:function(a,b,c,d,e){b["Content-Type"]="application/x-www-form-urlencoded";var g={method:"POST",headers:b,timeout:d,body:f.encode(c)};return this.request(a,g,e)},del:function(a,b,c,d,e){var g=a+"?"+f.encode(c),h={method:"DELETE",headers:b,timeout:d};return this.request(g,h,e)},request:function(a,b,c){var d=function(a){c=c||function(){},a.status<400&&a.status!=="abort"?c(null,a):c(a)};return this.makeRequest(a,b,d)},makeRequest:function(a,b,c){throw new Error("UNDEFINED FUNCTION - OVERRIDE REQUIRED")},parseJson:function(a){throw new Error("UNDEFINED FUNCTION - OVERRIDE REQUIRED")},_buildResponse:function(a,b,c){var f,g={};return b&&e.trim(b.headers["content-type"])==="application/json"&&(g=this.parseJson(c)||{}),d.printMessages(g.messages),f={response:b,status:b?b.statusCode:0,data:g,error:a},f}})})()}),require.define("/lib/platform/client/easyxdm_http.js",function(a,b,c,d,e){(function(){var b=a("../../http").Http,d=a("../../utils");a("../../../contrib/easyXDM/easyXDM.min");var e=c||this,f="SPLUNK_XDM_",g=0,h=f+ ++g,i=function(a){var b={},c=a.split("\n");for(var e=0;e<c.length;e++)if(d.trim(c[e])!==""){var f=c[e].split(": ");b[f[0]]=f[1]}return b},j=function(){return f+ ++g},k=easyXDM;e.XdmHttp=b.extend({init:function(a){this._super(!0);var b=k.noConflict(j());this.xhr=new b.Rpc({local:"name.html",swf:a+"/static/xdm/easyxdm.swf",remote:a+"/static/xdm/cors/index.html",remoteHelper:a+"/static/xdm/name.html"},{remote:{request:{}}})},makeRequest:function(a,b,c){var e={url:a,method:b.method,headers:b.headers,data:b.body},f=d.bind(this,function(a){var b=a.data,d=a.status,f=a.headers,g={statusCode:d,headers:f,request:{headers:e.headers}},h=this._buildResponse(null,g,b);c(h)}),g=d.bind(this,function(a){var b=a.data.data,d=a.data.status,f=a.message,g=a.data.headers,h={statusCode:d,headers:g,request:{headers:e.headers}},i=this._buildResponse(f,h,b);c(i)});return this.xhr.request(e,f,g),{abort:function(){}}},parseJson:function(a){return JSON.parse(a)}})})()}),require.define("/contrib/easyXDM/easyXDM.min.js",function(a,b,c,d,e){(function(a,b,c,d,e,f){function u(a,b){var c=typeof a[b];return c=="function"||c=="object"&&!!a[b]||c=="unknown"}function v(a,b){return typeof a[b]=="object"&&!!a[b]}function w(a){return Object.prototype.toString.call(a)==="[object Array]"}function x(){try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return s=Array.prototype.slice.call(a.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),t=parseInt(s[0],10)>9&&parseInt(s[1],10)>0,a=null,!0}catch(b){return!1}}function D(){if(A)return;A=!0;for(var a=0;a<B.length;a++)B[a]();B.length=0}function F(a,b){if(A){a.call(b);return}B.push(function(){a.call(b)})}function G(){var a=parent;if(m!=="")for(var b=0,c=m.split(".");b<c.length;b++)a=a[c[b]];return a.easyXDM}function H(b){return a.easyXDM=o,m=b,m&&(p="easyXDM_"+m.replace(".","_")+"_"),n}function I(a){return a.match(j)[3]}function J(a){return a.match(j)[4]||""}function K(a){var b=a.toLowerCase().match(j),c=b[2],d=b[3],e=b[4]||"";if(c=="http:"&&e==":80"||c=="https:"&&e==":443")e="";return c+"//"+d+e}function L(a){a=a.replace(l,"$1/");if(!a.match(/^(http||https):\/\//)){var b=a.substring(0,1)==="/"?"":c.pathname;b.substring(b.length-1)!=="/"&&(b=b.substring(0,b.lastIndexOf("/")+1)),a=c.protocol+"//"+c.host+b+a}while(k.test(a))a=a.replace(k,"");return a}function M(a,b){var c="",d=a.indexOf("#");d!==-1&&(c=a.substring(d),a=a.substring(0,d));var e=[];for(var g in b)b.hasOwnProperty(g)&&e.push(g+"="+f(b[g]));return a+(r?"#":a.indexOf("?")==-1?"?":"&")+e.join("&")+c}function O(a){return typeof a=="undefined"}function Q(a,b,c){var d;for(var e in b)b.hasOwnProperty(e)&&(e in a?(d=b[e],typeof d=="object"?Q(a[e],d,c):c||(a[e]=b[e])):a[e]=b[e]);return a}function R(){var a=b.body.appendChild(b.createElement("form")),c=a.appendChild(b.createElement("input"));c.name=p+"TEST"+h,q=c!==a.elements[c.name],b.body.removeChild(a)}function S(a){O(q)&&R();var c;q?c=b.createElement('<iframe name="'+a.props.name+'"/>'):(c=b.createElement("IFRAME"),c.name=a.props.name),c.id=c.name=a.props.name,delete a.props.name,a.onLoad&&y(c,"load",a.onLoad),typeof a.container=="string"&&(a.container=b.getElementById(a.container)),a.container||(Q(c.style,{position:"absolute",top:"-2000px"}),a.container=b.body);var d=a.props.src;return delete a.props.src,Q(c,a.props),c.border=c.frameBorder=0,c.allowTransparency=!0,a.container.appendChild(c),c.src=d,a.props.src=d,c}function T(a,b){typeof a=="string"&&(a=[a]);var c,d=a.length;while(d--){c=a[d],c=new RegExp(c.substr(0,1)=="^"?c:"^"+c.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$");if(c.test(b))return!0}return!1}function U(d){var e=d.protocol,f;d.isHost=d.isHost||O(N.xdm_p),r=d.hash||!1,d.props||(d.props={});if(!d.isHost){d.channel=N.xdm_c,d.secret=N.xdm_s,d.remote=N.xdm_e,e=N.xdm_p;if(d.acl&&!T(d.acl,d.remote))throw new Error("Access denied for "+d.remote)}else d.remote=L(d.remote),d.channel=d.channel||"default"+h++,d.secret=Math.random().toString(16).substring(2),O(e)&&(K(c.href)==K(d.remote)?e="4":u(a,"postMessage")||u(b,"postMessage")?e="1":d.swf&&u(a,"ActiveXObject")&&x()?e="6":navigator.product==="Gecko"&&"frameElement"in a&&navigator.userAgent.indexOf("WebKit")==-1?e="5":d.remoteHelper?(d.remoteHelper=L(d.remoteHelper),e="2"):e="0");d.protocol=e;switch(e){case"0":Q(d,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0);if(d.isHost){if(!d.local){var g=c.protocol+"//"+c.host,i=b.body.getElementsByTagName("img"),j,k=i.length;while(k--){j=i[k];if(j.src.substring(0,g.length)===g){d.local=j.src;break}}d.local||(d.local=a)}var l={xdm_c:d.channel,xdm_p:0};d.local===a?(d.usePolling=!0,d.useParent=!0,d.local=c.protocol+"//"+c.host+c.pathname+c.search,l.xdm_e=d.local,l.xdm_pa=1):l.xdm_e=L(d.local),d.container&&(d.useResize=!1,l.xdm_po=1),d.remote=M(d.remote,l)}else Q(d,{channel:N.xdm_c,remote:N.xdm_e,useParent:!O(N.xdm_pa),usePolling:!O(N.xdm_po),useResize:d.useParent?!1:d.useResize});f=[new n.stack.HashTransport(d),new n.stack.ReliableBehavior({}),new n.stack.QueueBehavior({encode:!0,maxLength:4e3-d.remote.length}),new n.stack.VerifyBehavior({initiate:d.isHost})];break;case"1":f=[new n.stack.PostMessageTransport(d)];break;case"2":f=[new n.stack.NameTransport(d),new n.stack.QueueBehavior,new n.stack.VerifyBehavior({initiate:d.isHost})];break;case"3":f=[new n.stack.NixTransport(d)];break;case"4":f=[new n.stack.SameOriginTransport(d)];break;case"5":f=[new n.stack.FrameElementTransport(d)];break;case"6":s||x(),f=[new n.stack.FlashTransport(d)]}return f.push(new n.stack.QueueBehavior({lazy:d.lazy,remove:!0})),f}function V(a){var b,c={incoming:function(a,b){this.up.incoming(a,b)},outgoing:function(a,b){this.down.outgoing(a,b)},callback:function(a){this.up.callback(a)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}};for(var d=0,e=a.length;d<e;d++)b=a[d],Q(b,c,!0),d!==0&&(b.down=a[d-1]),d!==e-1&&(b.up=a[d+1]);return b}function W(a){a.up.down=a.down,a.down.up=a.up,a.up=a.down=null}var g=this,h=Math.floor(Math.random()*1e4),i=Function.prototype,j=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,k=/[\-\w]+\/\.\.\//,l=/([^:])\/\//g,m="",n={},o=a.easyXDM,p="easyXDM_",q,r=!1,s,t,y,z;if(u(a,"addEventListener"))y=function(a,b,c){a.addEventListener(b,c,!1)},z=function(a,b,c){a.removeEventListener(b,c,!1)};else if(u(a,"attachEvent"))y=function(a,b,c){a.attachEvent("on"+b,c)},z=function(a,b,c){a.detachEvent("on"+b,c)};else throw new Error("Browser not supported");var A=!1,B=[],C;"readyState"in b?(C=b.readyState,A=C=="complete"||~navigator.userAgent.indexOf("AppleWebKit/")&&(C=="loaded"||C=="interactive")):A=!!b.body;if(!A){if(u(a,"addEventListener"))y(b,"DOMContentLoaded",D);else{y(b,"readystatechange",function(){b.readyState=="complete"&&D()});if(b.documentElement.doScroll&&a===top){var E=function(){if(A)return;try{b.documentElement.doScroll("left")}catch(a){d(E,1);return}D()};E()}}y(a,"load",D)}var N=function(a){a=a.substring(1).split("&");var b={},c,d=a.length;while(d--)c=a[d].split("="),b[c[0]]=e(c[1]);return b}(/xdm_e=/.test(c.search)?c.search:c.hash),P=function(){var a={},b={a:[1,2,3]},c='{"a":[1,2,3]}';return typeof JSON!="undefined"&&typeof JSON.stringify=="function"&&JSON.stringify(b).replace(/\s/g,"")===c?JSON:(Object.toJSON&&Object.toJSON(b).replace(/\s/g,"")===c&&(a.stringify=Object.toJSON),typeof String.prototype.evalJSON=="function"&&(b=c.evalJSON(),b.a&&b.a.length===3&&b.a[2]===3&&(a.parse=function(a){return a.evalJSON()})),a.stringify&&a.parse?(P=function(){return a},a):null)};Q(n,{version:"2.4.15.118",query:N,stack:{},apply:Q,getJSONObject:P,whenReady:F,noConflict:H}),n.DomHelper={on:y,un:z,requiresJSON:function(c){v(a,"JSON")||b.write('<script type="text/javascript" src="'+c+'"></script>')}},function(){var a={};n.Fn={set:function(b,c){a[b]=c},get:function(b,c){var d=a[b];return c&&delete a[b],d}}}(),n.Socket=function(a){var b=V(U(a).concat([{incoming:function(b,c){a.onMessage(b,c)},callback:function(b){a.onReady&&a.onReady(b)}}])),c=K(a.remote);this.origin=K(a.remote),this.destroy=function(){b.destroy()},this.postMessage=function(a){b.outgoing(a,c)},b.init()},n.Rpc=function(a,b){if(b.local)for(var c in b.local)if(b.local.hasOwnProperty(c)){var d=b.local[c];typeof d=="function"&&(b.local[c]={method:d})}var e=V(U(a).concat([new n.stack.RpcBehavior(this,b),{callback:function(b){a.onReady&&a.onReady(b)}}]));this.origin=K(a.remote),this.destroy=function(){e.destroy()},e.init()},n.stack.SameOriginTransport=function(a){var b,e,f,g;return b={outgoing:function(a,b,c){f(a),c&&c()},destroy:function(){e&&(e.parentNode.removeChild(e),e=null)},onDOMReady:function(){g=K(a.remote),a.isHost?(Q(a.props,{src:M(a.remote,{xdm_e:c.protocol+"//"+c.host+c.pathname,xdm_c:a.channel,xdm_p:4}),name:p+a.channel+"_provider"}),e=S(a),n.Fn.set(a.channel,function(a){return f=a,d(function(){b.up.callback(!0)},0),function(a){b.up.incoming(a,g)}})):(f=G().Fn.get(a.channel,!0)(function(a){b.up.incoming(a,g)}),d(function(){b.up.callback(!0)},0))},init:function(){F(b.onDOMReady,b)}}},n.stack.FlashTransport=function(a){function l(a,b){d(function(){e.up.incoming(a,i)},0)}function o(c){var d=a.swf+"?host="+a.isHost,e="easyXDM_swf_"+Math.floor(Math.random()*1e4);n.Fn.set("flash_loaded"+c.replace(/[\-.]/g,"_"),function(){n.stack.FlashTransport[c].swf=j=k.firstChild;var a=n.stack.FlashTransport[c].queue;for(var b=0;b<a.length;b++)a[b]();a.length=0}),a.swfContainer?k=typeof a.swfContainer=="string"?b.getElementById(a.swfContainer):a.swfContainer:(k=b.createElement("div"),Q(k.style,t&&a.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),b.body.appendChild(k));var f="callback=flash_loaded"+c.replace(/[\-.]/g,"_")+"&proto="+g.location.protocol+"&domain="+I(g.location.href)+"&port="+J(g.location.href)+"&ns="+m;k.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+e+"' data='"+d+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+d+"'></param><param name='flashvars' value='"+f+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+f+"' allowScriptAccess='always' wmode='transparent' src='"+d+"' height='1' width='1'></embed></object>"}var e,f,h,i,j,k;return e={outgoing:function(b,c,d){j.postMessage(a.channel,b.toString()),d&&d()},destroy:function(){try{j.destroyChannel(a.channel)}catch(b){}j=null,f&&(f.parentNode.removeChild(f),f=null)},onDOMReady:function(){i=a.remote,n.Fn.set("flash_"+a.channel+"_init",function(){d(function(){e.up.callback(!0)})}),n.Fn.set("flash_"+a.channel+"_onMessage",l),a.swf=L(a.swf);var b=I(a.swf),g=function(){n.stack.FlashTransport[b].init=!0,j=n.stack.FlashTransport[b].swf,j.createChannel(a.channel,a.secret,K(a.remote),a.isHost),a.isHost&&(t&&a.swfNoThrottle&&Q(a.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),Q(a.props,{src:M(a.remote,{xdm_e:K(c.href),xdm_c:a.channel,xdm_p:6,xdm_s:a.secret}),name:p+a.channel+"_provider"}),f=S(a))};n.stack.FlashTransport[b]&&n.stack.FlashTransport[b].init?g():n.stack.FlashTransport[b]?n.stack.FlashTransport[b].queue.push(g):(n.stack.FlashTransport[b]={queue:[g]},o(b))},init:function(){F(e.onDOMReady,e)}}},n.stack.PostMessageTransport=function(b){function i(a){if(a.origin)return K(a.origin);if(a.uri)return K(a.uri);if(a.domain)return c.protocol+"//"+a.domain;throw"Unable to retrieve the origin of the event"}function j(a){var c=i(a);c==h&&a.data.substring(0,b.channel.length+1)==b.channel+" "&&e.up.incoming(a.data.substring(b.channel.length+1),c)}var e,f,g,h;return e={outgoing:function(a,c,d){g.postMessage(b.channel+" "+a,c||h),d&&d()},destroy:function(){z(a,"message",j),f&&(g=null,f.parentNode.removeChild(f),f=null)},onDOMReady:function(){h=K(b.remote);if(b.isHost){var i=function(c){c.data==b.channel+"-ready"&&(g="postMessage"in f.contentWindow?f.contentWindow:f.contentWindow.document,z(a,"message",i),y(a,"message",j),d(function(){e.up.callback(!0)},0))};y(a,"message",i),Q(b.props,{src:M(b.remote,{xdm_e:K(c.href),xdm_c:b.channel,xdm_p:1}),name:p+b.channel+"_provider"}),f=S(b)}else y(a,"message",j),g="postMessage"in a.parent?a.parent:a.parent.document,g.postMessage(b.channel+"-ready",h),d(function(){e.up.callback(!0)},0)},init:function(){F(e.onDOMReady,e)}}},n.stack.FrameElementTransport=function(e){var f,g,h,i;return f={outgoing:function(a,b,c){h.call(this,a),c&&c()},destroy:function(){g&&(g.parentNode.removeChild(g),g=null)},onDOMReady:function(){i=K(e.remote),e.isHost?(Q(e.props,{src:M(e.remote,{xdm_e:K(c.href),xdm_c:e.channel,xdm_p:5}),name:p+e.channel+"_provider"}),g=S(e),g.fn=function(a){return delete g.fn,h=a,d(function(){f.up.callback(!0)},0),function(a){f.up.incoming(a,i)}}):(b.referrer&&K(b.referrer)!=N.xdm_e&&(a.top.location=N.xdm_e),h=a.frameElement.fn(function(a){f.up.incoming(a,i)}),f.up.callback(!0))},init:function(){F(f.onDOMReady,f)}}},n.stack.NameTransport=function(a){function k(b){var d=a.remoteHelper+(c?"#_3":"#_2")+a.channel;e.contentWindow.sendMessage(b,d)}function l(){c?(++g===2||!c)&&b.up.callback(!0):(k("ready"),b.up.callback(!0))}function m(a){b.up.incoming(a,i)}function o(){h&&d(function(){h(!0)},0)}var b,c,e,f,g,h,i,j;return b={outgoing:function(a,b,c){h=c,k(a)},destroy:function(){e.parentNode.removeChild(e),e=null,c&&(f.parentNode.removeChild(f),f=null)},onDOMReady:function(){c=a.isHost,g=0,i=K(a.remote),a.local=L(a.local),c?(n.Fn.set(a.channel,function(b){c&&b==="ready"&&(n.Fn.set(a.channel,m),l())}),j=M(a.remote,{xdm_e:a.local,xdm_c:a.channel,xdm_p:2}),Q(a.props,{src:j+"#"+a.channel,name:p+a.channel+"_provider"}),f=S(a)):(a.remoteHelper=a.remote,n.Fn.set(a.channel,m)),e=S({props:{src:a.local+"#_4"+a.channel},onLoad:function b(){var c=e||this;z(c,"load",b),n.Fn.set(a.channel+"_load",o),function f(){typeof c.contentWindow.sendMessage=="function"?l():d(f,50)}()}})},init:function(){F(b.onDOMReady,b)}}},n.stack.HashTransport=function(b){function o(a){if(!l)return;var c=b.remote+"#"+j++ +"_"+a;(f||!m?l.contentWindow:l).location=c}function q(a){i=a,c.up.incoming(i.substring(i.indexOf("_")+1),n)}function r(){if(!k)return;var a=k.location.href,b="",c=a.indexOf("#");c!=-1&&(b=a.substring(c)),b&&b!=i&&q(b)}function s(){g=setInterval(r,h)}var c,e=this,f,g,h,i,j,k,l,m,n;return c={outgoing:function(a,b){o(a)},destroy:function(){a.clearInterval(g),(f||!m)&&l.parentNode.removeChild(l),l=null},onDOMReady:function(){f=b.isHost,h=b.interval,i="#"+b.channel,j=0,m=b.useParent,n=K(b.remote);if(f){b.props={src:b.remote,name:p+b.channel+"_provider"};if(m)b.onLoad=function(){k=a,s(),c.up.callback(!0)};else{var e=0,g=b.delay/50;(function o(){if(++e>g)throw new Error("Unable to reference listenerwindow");try{k=l.contentWindow.frames[p+b.channel+"_consumer"]}catch(a){}k?(s(),c.up.callback(!0)):d(o,50)})()}l=S(b)}else k=a,s(),m?(l=parent,c.up.callback(!0)):(Q(b,{props:{src:b.remote+"#"+b.channel+new Date,name:p+b.channel+"_consumer"},onLoad:function(){c.up.callback(!0)}}),l=S(b))},init:function(){F(c.onDOMReady,c)}}},n.stack.ReliableBehavior=function(a){var b,c,d=0,e=0,f="";return b={incoming:function(a,g){var h=a.indexOf("_"),i=a.substring(0,h).split(",");a=a.substring(h+1),i[0]==d&&(f="",c&&c(!0)),a.length>0&&(b.down.outgoing(i[1]+","+d+"_"+f,g),e!=i[1]&&(e=i[1],b.up.incoming(a,g)))},outgoing:function(a,g,h){f=a,c=h,b.down.outgoing(e+","+ ++d+"_"+a,g)}}},n.stack.QueueBehavior=function(a){function m(){if(a.remove&&c.length===0){W(b);return}if(g||c.length===0||i)return;g=!0;var e=c.shift();b.down.outgoing(e.data,e.origin,function(a){g=!1,e.callback&&d(function(){e.callback(a)},0),m()})}var b,c=[],g=!0,h="",i,j=0,k=!1,l=!1;return b={init:function(){O(a)&&(a={}),a.maxLength&&(j=a.maxLength,l=!0),a.lazy?k=!0:b.down.init()},callback:function(a){g=!1;var c=b.up;m(),c.callback(a)},incoming:function(c,d){if(l){var f=c.indexOf("_"),g=parseInt(c.substring(0,f),10);h+=c.substring(f+1),g===0&&(a.encode&&(h=e(h)),b.up.incoming(h,d),h="")}else b.up.incoming(c,d)},outgoing:function(d,e,g){a.encode&&(d=f(d));var h=[],i;if(l){while(d.length!==0)i=d.substring(0,j),d=d.substring(i.length),h.push(i);while(i=h.shift())c.push({data:h.length+"_"+i,origin:e,callback:h.length===0?g:null})}else c.push({data:d,origin:e,callback:g});k?b.down.init():m()},destroy:function(){i=!0,b.down.destroy()}}},n.stack.VerifyBehavior=function(a){function f(){c=Math.random().toString(16).substring(2),b.down.outgoing(c)}var b,c,d,e=!1;return b={incoming:function(e,g){var h=e.indexOf("_");h===-1?e===c?b.up.callback(!0):d||(d=e,a.initiate||f(),b.down.outgoing(e)):e.substring(0,h)===d&&b.up.incoming(e.substring(h+1),g)},outgoing:function(a,d,e){b.down.outgoing(c+"_"+a,d,e)},callback:function(b){a.initiate&&f()}}},n.stack.RpcBehavior=function(a,b){function g(a){a.jsonrpc="2.0",c.down.outgoing(d.stringify(a))}function h(a,b){var c=Array.prototype.slice;return function(){var d=arguments.length,h,i={method:b};d>0&&typeof arguments[d-1]=="function"?(d>1&&typeof arguments[d-2]=="function"?(h={success:arguments[d-2],error:arguments[d-1]},i.params=c.call(arguments,0,d-2)):(h={success:arguments[d-1]},i.params=c.call(arguments,0,d-1)),f[""+ ++e]=h,i.id=e):i.params=c.call(arguments,0),a.namedParams&&i.params.length===1&&(i.params=i.params[0]),g(i)}}function j(a,b,c,d){if(!c){b&&g({id:b,error:{code:-32601,message:"Procedure not found."}});return}var e,f;b?(e=function(a){e=i,g({id:b,result:a})},f=function(a,c){f=i;var d={id:b,error:{code:-32099,message:a}};c&&(d.error.data=c),g(d)}):e=f=i,w(d)||(d=[d]);try{var h=c.method.apply(c.scope,d.concat([e,f]));O(h)||e(h)}catch(j){f(j.message)}}var c,d=b.serializer||P(),e=0,f={};return c={incoming:function(a,c){var e=d.parse(a);if(e.method)b.handle?b.handle(e,g):j(e.method,e.id,b.local[e.method],e.params);else{var h=f[e.id];e.error?h.error&&h.error(e.error):h.success&&h.success(e.result),delete f[e.id]}},init:function(){if(b.remote)for(var d in b.remote)b.remote.hasOwnProperty(d)&&(a[d]=h(b.remote[d],d));c.down.init()},destroy:function(){for(var d in b.remote)b.remote.hasOwnProperty(d)&&a.hasOwnProperty(d)&&delete a[d];c.down.destroy()}}},g.easyXDM=n})(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent)}),require.define("/lib/service.js",function(a,b,c,d,e){(function(){"use strict";var d=a("./context"),e=a("./http"),f=a("./paths").Paths,g=a("./jquery.class").Class,h=a("./utils"),i=c||this,j=null;b.exports=i=j=d.extend({init:function(){this._super.apply(this,arguments),this.specialize=h.bind(this,this.specialize),this.apps=h.bind(this,this.apps),this.configurations=h.bind(this,this.configurations),this.indexes=h.bind(this,this.indexes),this.properties=h.bind(this,this.properties),this.savedSearches=h.bind(this,this.savedSearches),this.jobs=h.bind(this,this.jobs),this.users=h.bind(this,this.users),this.currentUser=h.bind(this,this.currentUser),this.views=h.bind(this,this.views)},specialize:function(a,b){return new j(this.http,{scheme:this.scheme,host:this.host,port:this.port,username:this.username,password:this.password,owner:a,app:b,sessionKey:this.sessionKey})},apps:function(){return new i.Applications(this)},configurations:function(a){return new i.Configurations(this,a)},indexes:function(a){return new i.Indexes(this,a)},properties:function(){return new i.Properties(this)},savedSearches:function(a){return new i.SavedSearches(this,a)},jobs:function(a){return new i.Jobs(this,a)},users:function(){return new i.Users(this)},views:function(a){return new i.Views(this,a)},search:function(a,b,c,d){!d&&h.isFunction(c)&&(d=c,c=null);var e=new i.Jobs(this,{},c);return e.search(a,b,d)},oneshotSearch:function(a,b,c,d){!d&&h.isFunction(c)&&(d=c,c=null);var e=new i.Jobs(this,{},c);return e.oneshotSearch(a,b,d)},currentUser:function(a){var b=this;return this.get(f.currentUser,{},function(c,d){if(c)a(c);else{var e=d.data.entry[0].content.username,f=new i.User(b,e);f.refresh(a)}})}}),i.Endpoint=g.extend({init:function(a,b){if(!a)throw new Error("Passed in a null Service.");if(!b)throw new Error("Passed in an empty path.");this.service=a,this.path=b,this.get=h.bind(this,this.get),this.post=h.bind(this,this.post)},get:function(a,b,c){var d=this.path;return a&&(d=d+"/"+a),this.service.get(d,b,c)},post:function(a,b,c){var d=this.path;return a&&(d=d+"/"+a),this.service.post(d,b,c)},del:function(a,b,c){var d=this.path;return a&&(d=d+"/"+a),this.service.del(d,b,c)}}),i.Resource=i.Endpoint.extend({init:function(a,b,c){var d=a.fullpath(b,c);this._super(a,d),this.fragmentPath=b,this.namespace=c,this._properties={content:{},acl:{},attributes:{}},this._load=h.bind(this,this._load),this.refresh=h.bind(this,this.refresh),this.properties=h.bind(this,this.properties)},_load:function(a){this._properties=a||{}},refresh:function(a){throw new Error("MUST BE OVERRIDDEN")},properties:function(a){return this._properties}}),i.Entity=i.Resource.extend({init:function(a,b,c){this._super(a,b,c),this._load=h.bind(this,this._load),this.refresh=h.bind(this,this.refresh),this.remove=h.bind(this,this.remove),this.update=h.bind(this,this.update),this._loadOnUpdate=!0},_load:function(a){a=h.isArray(a)?a[0]:a,this._super(a)},refresh:function(a){a=a||function(){};var b=this;return this.get("",{},function(c,d){c?a(c):(b._load(d.data.entry),a(null,b))})},remove:function(a){a=a||function(){};var b=this;return this.del("",{},function(){a()})},update:function(a,b){b=b||function(){};if(a.hasOwnProperty("name"))throw new Error("Cannot set 'name' field in 'update'");var c=this,d=this.post("",a,function(a,d){!a&&c._loadOnUpdate&&c._load(d.data.entry),b(a,c)});return d}}),i.Collection=i.Resource.extend({init:function(a,b,c,d){this._super(a,b,c),this._load=h.bind(this,this._load),this.refresh=h.bind(this,this.refresh),this.create=h.bind(this,this.create),this.list=h.bind(this,this.list),this.contains=h.bind(this,this.contains),this.item=h.bind(this,this.item),this._entities=[],this._entitiesByName={};var e=this;d=d||{},this._item=d.item||function(a,b){throw new Error("SHOULD NEVER BE CALLED!")},this._itemPath=d.itemPath||function(b,c,d){var e=b.fragmentPath+"/"+encodeURIComponent(c),f=a.fullpath(e,d);return{fragment:e,full:f}},this._loadOnCreate=d.loadOnCreate||function(){return!1},this._loadOnItem=d.loadOnItem||function(){return!0}},_load:function(a){this._super(a);var b=[],c={},d=a.entry||[];for(var e=0;e<d.length;e++){var f=d[e],g=this._item(this,f);g._load(f),b.push(g),c.hasOwnProperty(g.fragmentPath)?c[g.fragmentPath].push(g):c[g.fragmentPath]=[g]}this._entities=b,this._entitiesByName=c},refresh:function(a,b){!b&&h.isFunction(a)&&(b=a,a={}),b=b||function(){};var a=a||{};a.count||(a.count=0);var c=this;return c.get("",a,function(a,d){a?b(a):(c._load(d.data),b(null,c))})},item:function(a,b){return this.contains(a,b)},create:function(a,b){b=b||function(){};var c=this,d=this.post("",a,function(a,d){if(a)b(a);else{var e=d.data.entry;h.isArray(e)&&(e=e[0]);var f=c._item(c,e);f._load(e),b(null,f)}});return d},list:function(a){return a=a||function(){},h.clone(this._entities)},contains:function(a,b){h.isEmpty(b)&&(b=null);if(!a)throw new Error("Must suply a non-empty name.");var c=this._itemPath(this,a,b),d=c.fragment,e=c.full;if(!this._entitiesByName.hasOwnProperty(d))return null;var f=this._entitiesByName[d];if(f.length===1&&!b)return f[0];if(f.length===1&&b)return f[0].path===e?f[0]:null;if(f.length>1&&!b)throw new Error("Ambiguous match for name '"+a+"'");for(var g=0;g<f.length;g++){var i=f[g];if(i.path===e)return i}}}),i.SavedSearches=i.Collection.extend({init:function(a,b){this._super(a,f.savedSearches,b,{item:function(a,b){var c=h.namespaceFromProperties(b);return new i.SavedSearch(a.service,b.name,c)}})}}),i.SavedSearch=i.Entity.extend({init:function(a,b,c){this.name=b,this._super(a,f.savedSearches+"/"+encodeURIComponent(b),c),this.acknowledge=h.bind(this,this.acknowledge),this.dispatch=h.bind(this,this.dispatch),this.history=h.bind(this,this.history),this.suppressInfo=h.bind(this,this.suppressInfo)},acknowledge:function(a){a=a||function(){};var b=this,c=this.post("acknowledge",{},function(c){a(c,b)});return c},dispatch:function(a){a=a||function(){};var b=this,c=this.post("dispatch",{},function(c){a(c,b)});return c},history:function(a){a=a||function(){};var b=this;return this.get("history",{},function(c,d){a(c,d.data.entry.content,b)})},suppressInfo:function(a){a=a||function(){};var b=this;return this.get("suppress",{},function(c,d){a(c,d.data.entry.content,b)})},update:function(a,b){a=a||{};if(!a.search){var c=this._super;return this.refresh(function(d,e){d?b(d):(a.search=e.properties().content.search,c.apply(e,[a,b]))})}return this._super(a,b)}}),i.Applications=i.Collection.extend({init:function(a){this._super(a,f.apps,{},{item:function(a,b){return new i.Application(a.service,b.name,{})}})}}),i.Application=i.Entity.extend({init:function(a,b){this.name=b,this._super(a,f.apps+"/"+encodeURIComponent(b),{}),this.setupInfo=h.bind(this,this.setupInfo),this.updateInfo=h.bind(this,this.updateInfo),this._loadOnUpdate=!1},setupInfo:function(a){a=a||function(){};var b=this;return this.get("setup",{},function(c,d){c?a(c):a(null,d.data.entry.content,b)})},updateInfo:function(a){a=a||function(){};var b=this;return this.get("update",{},function(c,d){c?a(c):a(null,d.data.entry.content,b)})}}),i.Users=i.Collection.extend({init:function(a){this._super(a,f.users,{},{item:function(a,b){return new i.User(a.service,b.name,{})}})},create:function(a,b){b=b||function(){};var c=this,d=this.post("",a,function(d,e){if(d)b(d);else{var f={name:a.name},g=c._item(c,f);b(null,g)}});return d}}),i.User=i.Entity.extend({init:function(a,b){this.name=b,this._super(a,f.users+"/"+encodeURIComponent(b),{})}}),i.Views=i.Collection.extend({init:function(a,b){this._super(a,f.views,b,{item:function(a,b){var c=h.namespaceFromProperties(b);return new i.View(a.service,b.name,c)}})}}),i.View=i.Entity.extend({init:function(a,b,c){this.name=b,this._super(a,f.views+"/"+encodeURIComponent(b),c)}}),i.Indexes=i.Collection.extend({init:function(a,b){this._super(a,f.indexes,b,{item:function(a,b){var c=h.namespaceFromProperties(b);return new i.Index(a.service,b.name,c)},loadOnCreate:function(){return!0},loadOnItem:function(){return!0}})},create:function(a,b,c){return h.isObject(a)&&h.isFunction(b)&&!c&&(c=b,b=a,a=b.name),b=b||{},b.name=a,this._super(b,c)}}),i.Index=i.Entity.extend({init:function(a,b,c){this.name=b,this._super(a,f.indexes+"/"+encodeURIComponent(b),c),this.submitEvent=h.bind(this,this.submitEvent)},submitEvent:function(a,b,c){c=c||function(){},b=b||{},b.index=this.name;var d=f.submitEvent+"?"+e.encode(b),g="POST",h={},i=a,j=this,k=this.service.request(d,g,h,i,function(a,b){a?c(a):c(null,b.data.entry.content,j)});return k},remove:function(){throw new Error("Indexes cannot be removed")}}),i.Properties=i.Collection.extend({init:function(a){var b={owner:"-",app:"-"};this._super(a,f.properties,b,{item:function(a,b){var c=b.name;return new i.PropertyFile(a.service,c)},loadOnItem:function(){return!1}})},create:function(a,b){h.isObject(a)&&(a=a.__conf),b=b||function(){};var c=this;return this.post("",{__conf:a},function(d,e){if(d)b(d);else{var f=new i.PropertyFile(c.service,a);b(null,f)}})}}),i.PropertyFile=i.Collection.extend({init:function(a,b){this.name=b;var c={owner:"-",app:"-"};this._super(a,f.properties+"/"+encodeURIComponent(b),c,{item:function(a,b){var c=b.name;return new i.PropertyStanza(a.service,a.name,c)},loadOnItem:function(){return!1}})},create:function(a,b){h.isObject(a)&&(a=a.__conf),b=b||function(){};var c=this;return this.post("",{__stanza:a},function(d,e){if(d)b(d);else{var f=new i.PropertyStanza(c.service,c.name,a);b(null,f)}})}}),i.PropertyStanza=i.Entity.extend({init:function(a,b,c){this.name=c;var d={owner:"-",app:"-"};this._super(a,f.properties+"/"+encodeURIComponent(b)+"/"+encodeURIComponent(c),d),this._loadOnUpdate=!1}}),i.Configurations=i.Collection.extend({init:function(a,b){if(!b||b.owner==="-"||b.app==="-")throw new Error("Configurations requires a non-wildcard owner/app");this._super(a,f.properties,b,{item:function(a,c){var d=c.name;return new i.ConfigurationFile(a.service,d,{},b)},loadOnItem:function(){return!1},itemPath:function(b,c,d){var e=f.configurations+"/conf-"+encodeURIComponent(c),g=a.fullpath(e,d);return{fragment:e,full:g}}})},create:function(a,b){h.isObject(a)&&(a=a.__conf),b=b||function(){};var c=this;return this.post("",{__conf:a},function(d,e){if(d)b(d);else{var f=new i.ConfigurationFile(c.service,a);b(null,f)}})}}),i.ConfigurationFile=i.Collection.extend({init:function(a,b,c){this.name=b;var d=f.configurations+"/conf-"+encodeURIComponent(b);this._super(a,d,c,{item:function(a,b){var c=b.name,d=h.namespaceFromProperties(b);return new i.ConfigurationStanza(a.service,a.name,c,d)},loadOnCreate:function(){return!0}})},create:function(a,b,c){return h.isObject(a)&&h.isFunction(b)&&!c&&(c=b,b=a,a=b.name),h.isFunction(b)&&!c&&(c=b,b={}),b=b||{},b.name=a,this._super(b,c)}}),i.ConfigurationStanza=i.Entity.extend({init:function(a,b,c,d){this.name=c,this._super(a,f.configurations+"/conf-"+encodeURIComponent(b)+"/"+encodeURIComponent(c),d)}}),i.Jobs=i.Collection.extend({init:function(a,b){this._super(a,f.jobs,b,{item:function(a,b){var c=b.content.sid,d=h.namespaceFromProperties(b);return new i.Job(a.service,c,d)}}),this.create=h.bind(this,this.create)},create:function(a,b,c){h.isObject(a)&&h.isFunction(b)&&!c&&(c=b,b=a,a=b.search),c=c||function(){},b=b||{},b.search=a;if((b.exec_mode||"").toLowerCase()==="oneshot")throw new Error("Please use splunkjs.Service.Jobs.oneshotSearch for exec_mode=oneshot");b.search||c("Must provide a query to create a search job");var d=this;return this.post("",b,function(a,b){if(a)c(a);else{var e=new i.Job(d.service,b.data.entry.content.sid);c(null,e)}})},search:function(a,b,c){return this.create(a,b,c)},oneshotSearch:function(a,b,c){h.isObject(a)&&h.isFunction(b)&&!c&&(c=b,b=a,a=b.search),c=c||function(){},b=b||{},b.search=a,b.exec_mode="oneshot",b.search||c("Must provide a query to create a search job");var d=this;return this.post("",b,function(a,b){a?c(a):c(null,b.data)})}}),i.Job=i.Entity.extend({init:function(a,b,c){this._super(a,f.jobs+"/"+b,c),this.sid=b,this.name=b,this.cancel=h.bind(this,this.cancel),this.disablePreview=h.bind(this,this.disablePreview),this.enablePreview=h.bind(this,this.enablePreview),this.events=h.bind(this,this.events),this.finalize=h.bind(this,this.finalize),this.pause=h.bind(this,this.pause),this.preview=h.bind(this,this.preview),this.results=h.bind(this,this.results),this.searchlog=h.bind(this,this.searchlog),this.setPriority=h.bind(this,this.setPriority),this.setTTL=h.bind(this,this.setTTL),this.summary=h.bind(this,this.summary),this.timeline=h.bind(this,this.timeline),this.touch=h.bind(this,this.touch),this.unpause=h.bind(this,this.unpause)},cancel:function(a){var b=this.post("control",{action:"cancel"},a);return b},disablePreview:function(a){a=a||function(){};var b=this,c=this.post("control",{action:"disablepreview"},function(c){a(c,b)});return c},enablePreview:function(a){a=a||function(){};var b=this,c=this.post("control",{action:"enablepreview"},function(c){a(c,b)});return c},events:function(a,b){b=b||function(){};var c=this;return this.get("events",a,function(a,d){a?b(a):b(null,d.data,c)})},finalize:function(a){a=a||function(){};var b=this,c=this.post("control",{action:"finalize"},function(c){a(c,b)});return c},pause:function(a){a=a||function(){};var b=this,c=this.post("control",{action:"pause"},function(c){a(c,b)});return c},preview:function(a,b){b=b||function(){};var c=this;return this.get("results_preview",a,function(a,d){a?b(a):b(null,d.data,c)})},results:function(a,b){b=b||function(){};var c=this;return this.get("results",a,function(a,d){a?b(a):b(null,d.data,c)})},searchlog:function(a){a=a||function(){};var b=this;return this.get("search.log",{},function(c,d){c?a(c):a(null,d.data.entry.content,b)})},setPriority:function(a,b){b=b||function(){};var c=this,d=this.post("control",{action:"setpriority",priority:a},function(a){b(a,c)});return d},setTTL:function(a,b){b=b||function(){};var c=this,d=this.post("control",{action:"setttl",ttl:a},function(a){b(a,c)});return d},summary:function(a,b){b=b||function(){};var c=this;return this.get("summary",a,function(a,d){a?b(a):b(null,d.data.entry.content,c)})},timeline:function(a,b){b=b||function(){};var c=this;return this.get("timeline",a,function(a,d){a?b(a):b(null,d.data.entry.content,c)})},touch:function(a){a=a||function(){};var b=this,c=this.post("control",{action:"touch"},function(c){a(c,b)});return c},unpause:function(a){a=a||function(){};var b=this,c=this.post("control",{action:"unpause"},function(c){a(c,b)});return c}})})()}),require.define("/lib/async.js",function(a,b,c,d,e){(function(){"use strict";var b=a("./utils"),d=c||this;d.whilst=function(a,b,c){a=a||function(){return!1},b=b||function(a){a()},c=c||function(){};var e=function(e){e?c(e):d.whilst(a,b,c)};a()?b(e):c(null)},d.parallel=function(a,c){a=a||[],c=c||function(){},a.length===0&&c();var d=a.length,e=[],f=function(a){return function(f){if(f)c(f),c=null;else{var g=b.toArray(arguments);g.shift(),g.length===1&&(g=g[0]),e[a]=g,--d===0&&(e.unshift(null),c&&c.apply(null,e))}}};for(var g=0;g<a.length;g++){var h=a[g];h(f(g))}},d.series=function(a,c){c=c||function(){};var d=function(a,c,e,f){if(!a){e.unshift(null),f.apply(null,e);return}a(function(a){if(a)f(a),f=null;else{var g=b.toArray(arguments);g.shift(),g.length===1&&(g=g[0]),e.push(g),d(c[0],c.slice(1),e,f)}})};d(a[0],a.slice(1),[],c)},d.parallelMap=function(a,c,e){e=e||function(){};var f=[],g=function(a,b){return function(d){c(a,b,d)}};for(var h=0;h<a.length;h++)f.push(g(a[h],h));d.parallel(f,function(a){if(a)e(a),e=null;else{var c=b.toArray(arguments);c.shift(),e(null,c)}})},d.seriesMap=function(a,c,e){e=e||function(){};var f=[],g=function(a,b){return function(d){c(a,b,d)}};for(var h=0;h<a.length;h++)f.push(g(a[h],h));d.series(f,function(a){if(a)e(a);else{var c=b.toArray(arguments);c.shift(),e(null,c)}})},d.parallelEach=function(a,b,c){c=c||function(){},d.parallelMap(a,b,function(a,b){c(a)})},d.seriesEach=function(a,b,c){c=c||function(){},d.seriesMap(a,b,function(a,b){c(a)})},d.chain=function(a,c){c=c||function(){};if(!a.length)c();else{var d=function(a,e,f){var g=function(a){if(a)c(a),c=function(){};else{var f=b.toArray(arguments);f.shift(),d(e[0],e.slice(1),f)}},h=f;e.length?h.push(g):h.push(c),a.apply(null,h)};d(a[0],a.slice(1),[])}},d.sleep=function(a,b){setTimeout(function(){b()},a)},d.augment=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);for(var d=0;d<b.length;d++)c.push(b[d]);a.apply(null,c)}}})()}),require.define("/lib/searcher.js",function(a,b,c,d,e){(function(){"use strict";var b=a("./service"),d=a("./jquery.class").Class,e=a("./utils"),f=a("./async"),g=c||this;g.JobManager=d.extend({init:function(a,b){this.service=a,this.job=b,this.isJobDone=!1,this.onProgressCallbacks=[],this.onFailCallbacks=[],this._dispatchCallbacks=e.bind(this,this._dispatchCallbacks),this.onProgress=e.bind(this,this.onProgress),this.onFail=e.bind(this,this.onFail),this.done=e.bind(this,this.done),this.cancel=e.bind(this,this.cancel),this.isDone=e.bind(this,this.isDone),this.eventsIterator=e.bind(this,this.eventsIterator),this.resultsIterator=e.bind(this,this.resultsIterator),this.previewIterator=e.bind(this,this.previewIterator)},_dispatchCallbacks:function(a,b){a=a||[];for(var c=0;c<a.length;c++){var d=a[c];d.call(null,null,b,this)}},onProgress:function(a){this.onProgressCallbacks.push(a)},onFail:function(a){this.onFailCallbacks.push(a)},done:function(a){a=a||function(){};var b=this,c=this.job,d={},e=!1;f.whilst(function(){return!e},function(a){c.refresh(function(c,g){c&&a(c),d=g.properties()||{},b._dispatchCallbacks(b.onProgressCallbacks,d),d.isFailed&&b._dispatchCallbacks(b.onFailCallbacks,d),e=d.content.isDone||b.isJobDone||d.isFailed,f.sleep(1e3,a)})},function(c){b.isJobDone=!0,a.apply(null,[c,b])})},cancel:function(a){this.isJobDone=!0,this.job.cancel(a)},isDone:function(){return this.isJobDone},eventsIterator:function(a){return new g.Iterator(this,this.job.events,a)},resultsIterator:function(a){return new g.Iterator(this,this.job.results,a)},previewIterator:function(a){return new g.Iterator(this,this.job.preview,a)}}),g.Iterator=d.extend({init:function(a,b,c){this.manager=a,this.endpoint=b,this.resultsPerPage=c||0,this.currentOffset=0},next:function(a){a=a||function(){};var b=this,c={count:this.resultsPerPage,offset:this.currentOffset};return this.endpoint(c,function(c,d){if(c)a(c);else{var e=d.rows?d.rows.length:0;b.currentOffset+=e,a(null,e>0,d)}})},reset:function(){this.currentOffset=0}})})()}),require.define("/tests/test_async.js",function(a,b,c,d,e){c.setup=function(){var b=a("../splunk"),c=b.Async;b.Logger.setLevel("ALL");var d=!0;return{"While success":function(a){var b=0;c.whilst(function(){return b++<3},function(a){c.sleep(0,function(){a()})},function(b){a.ok(!b),a.done()})},"While success deep":function(a){var b=0;c.whilst(function(){return b++<(d?100:1e4)},function(a){c.sleep(0,function(){a()})},function(b){a.ok(!b),a.done()})},"While error":function(a){var b=0;c.whilst(function(){return b++<(d?100:1e4)},function(a){c.sleep(0,function(){a(b===(d?50:1e4)?1:null)})},function(b){a.ok(b),a.strictEqual(b,1),a.done()})},"Parallel success":function(a){c.parallel([function(a){a(null,1)},function(a){a(null,2,3)}],function(b,c,d){a.ok(!b),a.strictEqual(c,1),a.strictEqual(d[0],2),a.strictEqual(d[1],3),a.done()})},"Parallel success - no reordering":function(a){c.parallel([function(a){c.sleep(1,function(){a(null,1)})},function(a){a(null,2,3)}],function(b,c,d){a.ok(!b),a.strictEqual(c,1),a.strictEqual(d[0],2),a.strictEqual(d[1],3),a.done()})},"Parallel error":function(a){c.parallel([function(a){a(null,1)},function(a){a(null,2,3)},function(a){c.sleep(0,function(){a("ERROR")})}],function(b,c,d){a.ok(b==="ERROR"),a.ok(!c),a.ok(!d),a.done()})},"Parallel no tasks":function(a){c.parallel([],function(b){a.ok(!b),a.done()})},"Series success":function(a){c.series([function(a){a(null,1)},function(a){a(null,2,3)}],function(b,c,d){a.ok(!b),a.strictEqual(c,1),a.strictEqual(d[0],2),a.strictEqual(d[1],3),a.done()})},"Series reordering success":function(a){var b=0;c.series([function(d){c.sleep(10,function(){a.strictEqual(b++,0),d(null,1)})},function(c){a.strictEqual(b++,1),c(null,2,3)}],function(c,d,e){a.ok(!c),a.strictEqual(b,2),a.strictEqual(d,1),a.strictEqual(e[0],2),a.strictEqual(e[1],3),a.done()})},"Series error":function(a){c.series([function(a){a(null,1)},function(a){a("ERROR",2,3)}],function(b,c,d){a.strictEqual(b,"ERROR"),a.ok(!c),a.ok(!d),a.done()})},"Series no tasks":function(a){c.series([],function(b){a.ok(!b),a.done()})},"Parallel map success":function(a){c.parallelMap([1,2,3],function(a,b,c){c(null,a+1)},function(b,c){a.ok(!b),a.strictEqual(c[0],2),a.strictEqual(c[1],3),a.strictEqual(c[2],4),a.done()})},"Parallel map reorder success":function(a){c.parallelMap([1,2,3],function(a,b,d){a===2?c.sleep(100,function(){d(null,a+1)}):d(null,a+1)},function(b,c){a.strictEqual(c[0],2),a.strictEqual(c[1],3),a.strictEqual(c[2],4),a.done()})},"Parallel map error":function(a){c.parallelMap([1,2,3],function(a,b,c){a===2?c(5):c(null,a+1)},function(b,c){a.ok(b),a.ok(!c),a.strictEqual(b,5),a.done()})},"Series map success":function(a){var b=1;c.seriesMap([1,2,3],function(c,d,e){a.strictEqual(b++,c),e(null,c+1)},function(c,d){a.ok(!c),a.strictEqual(d[0],2),a.strictEqual(d[1],3),a.strictEqual(d[2],4),a.strictEqual(d[2],b),a.done()})},"Series map error":function(a){c.seriesMap([1,2,3],function(a,b,c){a===2?c(5):c(null,a+1)},function(b,c){a.ok(b),a.ok(!c),a.strictEqual(b,5),a.done()})},"Chain single success":function(a){c.chain([function(a){a(null,1)},function(a,b){b(null,a+1)},function(a,b){b(null,a+1)}],function(b,c){a.ok(!b),a.strictEqual(c,3),a.done()})},"Chain multiple success":function(a){c.chain([function(a){a(null,1,2)},function(a,b,c){c(null,a+1,b+1)},function(a,b,c){c(null,a+1,b+1)}],function(b,c,d){a.ok(!b),a.strictEqual(c,3),a.strictEqual(d,4),a.done()})},"Chain arity change success":function(a){c.chain([function(a){a(null,1,2)},function(a,b,c){c(null,a+1)},function(a,b){b(null,a+1,5)}],function(b,c,d){a.ok(!b),a.strictEqual(c,3),a.strictEqual(d,5),a.done()})},"Chain error":function(a){c.chain([function(a){a(null,1,2)},function(a,b,c){c(5,a+1)},function(a,b){b(null,a+1,5)}],function(b,c,d){a.ok(b),a.ok(!c),a.ok(!d),a.strictEqual(b,5),a.done()})},"Chain no tasks":function(a){c.chain([],function(b,c,d){a.ok(!b),a.ok(!c),a.ok(!d),a.done()})},"Parallel each reodrder success":function(a){var b=0;c.parallelEach([1,2,3],function(a,d,e){var f=function(){b+=a,e()};d===1?c.sleep(100,f):f()},function(c){a.ok(!c),a.strictEqual(b,6),a.done()})},"Series each success":function(a){var b=[1,3,6],d=0;c.seriesEach([1,2,3],function(c,e,f){d+=c,a.strictEqual(d,b[e]),f()},function(b){a.ok(!b),a.strictEqual(d,6),a.done()})},"Augment callback":function(a){var b=function(b,c){a.ok(b),a.ok(c),a.strictEqual(b,1),a.strictEqual(c,2),a.done()},d=c.augment(b,2);d(1)}}};if(b===a.main){var f=a("../contrib/nodeunit/test_reporter"),g=c.setup();f.run([{Tests:g}])}}),require.define("/tests/test_http.js",function(a,b,c,d,e){c.setup=function(b){var c=a("../splunk");return c.Logger.setLevel("ALL"),{"HTTP GET Tests":{setUp:function(a){this.http=b,a()},"Callback#abort simple":function(a){var b=this.http.get("https://www.httpbin.org/get",{},{},0,function(b,c){a.ok(b),a.strictEqual(b.error,"abort"),a.done()});b.abort()},"Callback#abort delay":function(a){var b=this.http.get("https://www.httpbin.org/delay/20",{},{},0,function(b,c){a.ok(b),a.strictEqual(b.error,"abort"),a.done()});c.Async.sleep(1e3,function(){b.abort()})},"Callback#no args":function(a){this.http.get("http://www.httpbin.org/get",[],{},0,function(b,c){a.strictEqual(c.data.url,"http://www.httpbin.org/get"),a.done()})},"Callback#success success+error":function(a){this.http.get("http://www.httpbin.org/get",[],{},0,function(b,c){a.ok(!b),a.strictEqual(c.data.url,"http://www.httpbin.org/get"),a.done()})},"Callback#error all":function(a){this.http.get("http://www.httpbin.org/status/404",[],{},0,function(b,c){a.strictEqual(b.status,404),a.done()})},"Callback#args":function(a){this.http.get("http://www.httpbin.org/get",[],{a:1,b:2,c:[1,2,3],d:"a/b"},0,function(b,c){var d=c.data.args;a.strictEqual(d.a,"1"),a.strictEqual(d.b,"2"),a.strictEqual(d.c,"1"),a.strictEqual(d.d,"a/b"),a.strictEqual(c.data.url,"http://www.httpbin.org/get?a=1&b=2&c=1&c=2&c=3&d=a%2Fb"),a.done()})},"Callback#headers":function(a){var b={"X-Test1":1,"X-Test2":"a/b/c"};this.http.get("http://www.httpbin.org/get",{"X-Test1":1,"X-Test2":"a/b/c"},{},0,function(c,d){var e=d.data.headers;for(var f in b)b.hasOwnProperty(f)&&a.strictEqual(b[f]+"",e[f]);a.strictEqual(d.data.url,"http://www.httpbin.org/get"),a.done()})},"Callback#all":function(a){var b={"X-Test1":1,"X-Test2":"a/b/c"};this.http.get("http://www.httpbin.org/get",{"X-Test1":1,"X-Test2":"a/b/c"},{a:1,b:2,c:[1,2,3],d:"a/b"},0,function(c,d){var e=d.data.headers;for(var f in b)b.hasOwnProperty(f)&&a.strictEqual(b[f]+"",e[f]);var g=d.data.args;a.strictEqual(g.a,"1"),a.strictEqual(g.b,"2"),a.strictEqual(g.c,"1"),a.strictEqual(g.d,"a/b"),a.strictEqual(d.data.url,"http://www.httpbin.org/get?a=1&b=2&c=1&c=2&c=3&d=a%2Fb"),a.done()})}},"HTTP POST Tests":{setUp:function(a){this.http=b,a()},"Callback#no args":function(a){this.http.post("http://www.httpbin.org/post",{},{},0,function(b,c){a.strictEqual(c.data.url,"http://www.httpbin.org/post"),a.done()})},"Callback#success success+error":function(a){this.http.post("http://www.httpbin.org/post",{},{},0,function(b,c){a.ok(!b),a.strictEqual(c.data.url,"http://www.httpbin.org/post"),a.done()})},"Callback#error all":function(a){this.http.post("http://www.httpbin.org/status/405",{},{},0,function(b,c){a.strictEqual(b.status,405),a.done()})},"Callback#args":function(a){this.http.post("http://www.httpbin.org/post",{},{a:1,b:2,c:[1,2,3],d:"a/b"},0,function(b,c){var d=c.data.form;a.strictEqual(d.a,"1"),a.strictEqual(d.b,"2"),a.deepEqual(d.c,["1","2","3"]),a.strictEqual(d.d,"a/b"),a.strictEqual(c.data.url,"http://www.httpbin.org/post"),a.done()})},"Callback#headers":function(a){var b={"X-Test1":1,"X-Test2":"a/b/c"};this.http.post("http://www.httpbin.org/post",{"X-Test1":1,"X-Test2":"a/b/c"},{},0,function(c,d){var e=d.data.headers;for(var f in b)b.hasOwnProperty(f)&&a.strictEqual(b[f]+"",e[f]);a.strictEqual(d.data.url,"http://www.httpbin.org/post"),a.done()})},"Callback#all":function(a){var b={"X-Test1":1,"X-Test2":"a/b/c"};this.http.post("http://www.httpbin.org/post",{"X-Test1":1,"X-Test2":"a/b/c"},{a:1,b:2,c:[1,2,3],d:"a/b"},0,function(c,d){var e=d.data.headers;for(var f in b)b.hasOwnProperty(f)&&a.strictEqual(b[f]+"",e[f]);var g=d.data.form;a.strictEqual(g.a,"1"),a.strictEqual(g.b,"2"),a.deepEqual(g.c,["1","2","3"]),a.strictEqual(g.d,"a/b"),a.strictEqual(d.data.url,"http://www.httpbin.org/post"),a.done()})}},"HTTP DELETE Tests":{setUp:function(a){this.http=b,a()},"Callback#no args":function(a){this.http.del("http://www.httpbin.org/delete",[],{},0,function(b,c){a.strictEqual(c.data.url,"http://www.httpbin.org/delete"),a.done()})},"Callback#success success+error":function(a){this.http.del("http://www.httpbin.org/delete",[],{},0,function(b,c){a.ok(!b),a.strictEqual(c.data.url,"http://www.httpbin.org/delete"),a.done()})},"Callback#error all":function(a){this.http.del("http://www.httpbin.org/status/405",[],{},0,function(b,c){a.strictEqual(b.status,405),a.done()})},"Callback#args":function(a){this.http.del("http://www.httpbin.org/delete",[],{a:1,b:2,c:[1,2,3],d:"a/b"},0,function(b,c){a.strictEqual(c.data.url,"http://www.httpbin.org/delete?a=1&b=2&c=1&c=2&c=3&d=a%2Fb"),a.done()})},"Callback#headers":function(a){var b={"X-Test1":1,"X-Test2":"a/b/c"};this.http.del("http://www.httpbin.org/delete",{"X-Test1":1,"X-Test2":"a/b/c"},{},0,function(c,d){var e=d.data.headers;for(var f in b)b.hasOwnProperty(f)&&a.strictEqual(b[f]+"",e[f]);a.strictEqual(d.data.url,"http://www.httpbin.org/delete"),a.done()})},"Callback#all":function(a){var b={"X-Test1":1,"X-Test2":"a/b/c"};this.http.del("http://www.httpbin.org/delete",{"X-Test1":1,"X-Test2":"a/b/c"},{a:1,b:2,c:[1,2,3],d:"a/b"},0,function(c,d){var e=d.data.headers;for(var f in b)b.hasOwnProperty(f)&&a.strictEqual(b[f]+"",e[f]);a.strictEqual(d.data.url,"http://www.httpbin.org/delete?a=1&b=2&c=1&c=2&c=3&d=a%2Fb"),a.done()})}}}};if(b===a.main){var f=a("../splunk"),g=f.NodeHttp,h=a("../contrib/nodeunit/test_reporter"),i=new g(!1),j=c.setup(i);h.run([{Tests:j}])}}),require.define("/tests/test_context.js",function(a,b,c,d,e){c.setup=function(b){var c=a("../splunk");c.Logger.setLevel("ALL");var d=!0;return{setUp:function(a){this.service=b,a()},"Service exists":function(a){a.ok(this.service),a.done()},"Callback#login":function(a){var d=new c.Service(b.http,{scheme:b.scheme,host:b.host,port:b.port,username:b.username,password:b.password});d.login(function(b,c){a.ok(c),a.done()})},"Callback#login fail":function(a){var e=new c.Service(b.http,{scheme:b.scheme,host:b.host,port:b.port,username:b.username,password:b.password+"wrong_password"});d?a.done():e.login(function(b,c){a.ok(b),a.ok(!c),a.done()})},"Callback#get":function(a){this.service.get("search/jobs",{count:2},function(b,c){a.strictEqual(c.data.paging.offset,0),a.ok(c.data.paging.count<=c.data.paging.total),a.strictEqual(c.data.paging.count,2),a.strictEqual(c.data.paging.count,c.data.entry.length),a.ok(c.data.entry[0].content.sid),a.done()})},"Callback#get error":function(a){this.service.get("search/jobs/1234_nosuchjob",{},function(b){a.ok(!!b),a.strictEqual(b.status,404),a.done()})},"Callback#post":function(a){var b=this.service;this.service.post("search/jobs",{search:"search index=_internal | head 1"},function(c,d){var e=d.data.entry.content.sid;a.ok(e);var f="search/jobs/"+e+"/control";b.post(f,{action:"cancel"},function(b,c){a.done()})})},"Callback#post error":function(a){this.service.post("search/jobs",{search:"index_internal | head 1"},function(b){a.ok(!!b),a.strictEqual(b.status,400),a.done()})},"Callback#delete":function(a){var b=this.service;this.service.post("search/jobs",{search:"search index=_internal | head 1"},function(c,d){var e=d.data.entry.content.sid;a.ok(e);var f="search/jobs/"+e;b.del(f,{},function(b,c){a.done()})})},"Callback#delete error":function(a){this.service.del("search/jobs/1234_nosuchjob",{},function(b){a.ok(!!b),a.strictEqual(b.status,404),a.done()})},"Callback#request get":function(a){this.service.request("search/jobs?count=2","GET",{"X-TestHeader":1},"",function(b,c){a.strictEqual(c.data.paging.offset,0),a.ok(c.data.paging.count<=c.data.paging.total),a.strictEqual(c.data.paging.count,2),a.strictEqual(c.data.paging.count,c.data.entry.length),a.ok(c.data.entry[0].content.sid),c.response.request&&a.strictEqual(c.response.request.headers["X-TestHeader"],1),a.done()})},"Callback#request post":function(a){var b="search="+encodeURIComponent("search index=_internal | head 1"),c={"Content-Type":"application/x-www-form-urlencoded"},d=this.service;this.service.request("search/jobs","POST",c,b,function(b,c){var e=c.data.entry.content.sid;a.ok(e);var f="search/jobs/"+e+"/control";d.post(f,{action:"cancel"},function(b,c){a.done()})})},"Callback#request error":function(a){this.service.request("search/jobs/1234_nosuchjob","GET",{"X-TestHeader":1},"",function(b){a.ok(!!b),b.response.request&&a.strictEqual(b.response.request.headers["X-TestHeader"],1),a.strictEqual(b.status,404),a.done()})},"Callback#abort":function(a){var b=this.service.get("search/jobs",{count:2},function(b,c){a.ok(!c),a.ok(b),a.strictEqual(b.error,"abort"),a.strictEqual(b.status,"abort"),a.done()});b.abort()}}};if(b===a.main){var f=a("../splunk"),g=a("../internal/cmdline"),h=a("../contrib/nodeunit/test_reporter"),i=g.create(),j=i.parse(process.argv);if(!j)throw new Error("Error in parsing command line parameters");var k=new f.Service({scheme:j.opts.scheme,host:j.opts.host,port:j.opts.port,username:j.opts.username,password:j.opts.password}),l=c.setup(k);k.login(function(a,b){if(a||!b)throw new Error("Login failed - not running tests",a||"");h.run([{Tests:l}])})}}),require.define("/internal/cmdline.js",function(a,b,c,d,e){(function(){var c=a("path"),e=a("fs"),f=a("../contrib/commander"),g=a("../lib/utils"),h=[process.env.HOME||process.env.HOMEPATH,c.resolve(d,"..")],i=function(a,b){var c=e.readFileSync(a,"utf8")||"",d=c.split("\n")||[];for(var f=0;f<d.length;f++){var h=d[f].trim();if(h!==""&&!g.startsWith(h,"#")){var i=h.split("="),j=i[0].trim(),k=i[1].trim();b[j]=k}}},j=function(){var a={};for(var b=0;b<h.length;b++){var d=c.join(h[b],".splunkrc");c.existsSync(d)&&i(d,a)}return a};b.exports.create=function(){var a=new f.Command,b=a.parse;return a.password=undefined,a.option("-u, --username <username>","Username to login with",undefined,!0).option("--password <password>","Username to login with",undefined,!1).option("--scheme <scheme>","Scheme to use","https",!1).option("--host <host>","Hostname to use","localhost",!1).option("--port <port>","Port to use",8089,!1),a.parse=function(c){c=(c||[]).slice(2);var d=j();for(var e in d)if(d.hasOwnProperty(e)&&c.indexOf("--"+e)<0){var f=d[e];c.unshift(f),c.unshift("--"+e.trim())}c.unshift(""),c.unshift("");var g=b.call(a,c);return g},a.add=function(b,c,d,e,f,h){var i={};e=e||[];var j=a.command(b+(d?" "+d:"")).description(c||"");for(var k=0;k<e.length;k++){var l=f.indexOf(e[k])>=0,m="<"+e[k]+">";j.option("--"+e[k]+" "+m,"",undefined,l)}j.action(function(){var a=g.toArray(arguments);a.unshift(b),h.apply(null,a)})},a}})()}),require.define("fs",function(a,b,c,d,e){}),require.define("/tests/test_service.js",function(a,b,c,d,e){c.setup=function(b){var c=a("../splunk"),d=c.Utils,e=c.Async,f=a("./utils");c.Logger.setLevel("ALL");var g=0,h=function(){return"id"+g++ +"_"+(new Date).valueOf()};return{"Job Tests":{setUp:function(a){this.service=b,a()},"Callback#Create+abort job":function(a){var b=h(),d={id:b},e=this.service.jobs({app:"new_english"}),f=e.oneshotSearch("search index=_internal |  head 1 | sleep 10",d,function(b,c){a.ok(b),a.ok(!c),a.strictEqual(b.error,"abort"),a.done()});c.Async.sleep(1e3,function(){f.abort()})},"Callback#Create+cancel job":function(a){var b=h();this.service.jobs().search("search index=_internal | head 1",{id:b},function(c,d){a.ok(d),a.strictEqual(d.sid,b),d.cancel(function(){a.done()})})},"Callback#Create job error":function(a){var b=h();this.service.jobs().search({search:"index=_internal | head 1",id:b},function(b){a.ok(!!b),a.done()})},"Callback#List jobs":function(a){this.service.jobs().refresh(function(b,c){a.ok(!b),a.ok(c);var d=c.list();a.ok(d.length>0);for(var e=0;e<d.length;e++)a.ok(d[e]);a.done()})},"Callback#Contains job":function(a){var b=this,c=h(),d=this.service.jobs();d.search("search index=_internal | head 1",{id:c},function(b,e){a.ok(e),a.strictEqual(e.sid,c),d.refresh(function(b,d){var e=d.contains(c);a.ok(e),e.cancel(function(){a.done()})})})},"Callback#job results":function(a){var b=h(),c=this.service,d=this;e.chain([function(a){d.service.jobs().search("search index=_internal | head 1 | stats count",{id:b},a)},function(c,d){a.strictEqual(c.sid,b),f.pollUntil(c,function(a){return c.properties().content.isDone},10,d)},function(a,b){a.results({},b)},function(b,c,d){a.strictEqual(b.rows.length,1),a.strictEqual(b.fields.length,1),a.strictEqual(b.fields[0],"count"),a.strictEqual(b.rows[0][0],"1"),c.cancel(d)}],function(b){a.ok(!b),a.done()})},"Callback#job events":function(a){var b=h(),c=this.service,d=this;e.chain([function(a){d.service.jobs().search("search index=_internal | head 1",{id:b},a)},function(c,d){a.strictEqual(c.sid,b),f.pollUntil(c,function(a){return c.properties().content.isDone},10,d)},function(a,b){a.events({},b)},function(b,c,d){a.strictEqual(b.rows.length,1),a.strictEqual(b.fields.length,b.rows[0].length),c.cancel(d)}],function(b){a.ok(!b),a.done()})},"Callback#job results preview":function(a){var b=h(),c=this.service,d=this;e.chain([function(a){d.service.jobs().search("search index=_internal | head 1 | stats count",{id:b},a)},function(c,d){a.strictEqual(c.sid,b),f.pollUntil(c,function(a){return c.properties().content.isDone},10,d)},function(a,b){a.preview({},b)},function(b,c,d){a.strictEqual(b.rows.length,1),a.strictEqual(b.fields.length,1),a.strictEqual(b.fields[0],"count"),a.strictEqual(b.rows[0][0],"1"),c.cancel(d)}],function(b){a.ok(!b),a.done()})},"Callback#Enable + disable preview":function(a){var b=this,c=h(),d=this.service.specialize("nobody","new_english");e.chain([function(a){d.jobs().search("search index=_internal | head 1 | sleep 60",{id:c},a)},function(a,b){a.enablePreview(b)},function(a,b){a.disablePreview(b)},function(a,b){a.cancel(b)}],function(b){a.ok(!b),a.done()})},"Callback#Pause + unpause + finalize preview":function(a){var b=this,c=h(),d=this.service.specialize("nobody","new_english");e.chain([function(a){d.jobs().search("search index=_internal | head 1 | sleep 5",{id:c},a)},function(a,b){a.pause(b)},function(a,b){f.pollUntil(a,function(a){return a.properties().content.isPaused},10,b)},function(b,c){a.ok(b.properties().content.isPaused),b.unpause(c)},function(a,b){f.pollUntil(a,function(a){return!a.properties().content.isPaused},10,b)},function(b,c){a.ok(!b.properties().content.isPaused),b.finalize(c)},function(a,b){a.cancel(b)}],function(b){a.ok(!b),a.done()})},"Callback#Set TTL":function(a){var b=h(),c=0,d=this;e.chain([function(a){d.service.jobs().search("search index=_internal | head 1",{id:b},a)},function(a,b){a.refresh(b)},function(a,b){var d=a.properties().content.ttl;c=d,a.setTTL(d*2,b)},function(a,b){a.refresh(b)},function(b,d){var e=b.properties().content.ttl;a.ok(e>c),a.ok(e<=c*2),b.cancel(d)}],function(b){a.ok(!b),a.done()})},"Callback#Set priority":function(a){var b=h(),c=0,d=this,f=this.service.specialize("nobody","new_english");e.chain([function(a){f.jobs().search("search index=_internal | head 1 | sleep 5",{id:b},a)},function(a,b){a.refresh(b)},function(b,c){var d=b.properties().content.priority;a.ok(d,5),b.setPriority(d+1,c)},function(a,b){a.refresh(b)},function(a,b){a.cancel(b)}],function(b){a.ok(!b),a.done()})},"Callback#Search log":function(a){var b=h(),c=this;e.chain([function(a){c.service.jobs().search("search index=_internal | head 1",{id:b},a)},function(a,b){a.searchlog(b)},function(b,c,d){a.ok(c),a.ok(b),a.ok(b.length>0),a.ok(b.split("\r\n").length>0),c.cancel(d)}],function(b){a.ok(!b),a.done()})},"Callback#Search summary":function(a){var b=h(),c=this;e.chain([function(a){c.service.jobs().search('search index=_internal | head 1 | eval foo="bar" | fields foo',{id:b,status_buckets:300,rf:["foo"]},a)},function(a,b){a.summary({},b)},function(b,c,d){a.ok(c),a.ok(b),a.strictEqual(b.event_count,1),a.strictEqual(b.fields.foo.count,1),a.strictEqual(b.fields.foo.distinct_count,1),a.ok(b.fields.foo.is_exact,1),a.strictEqual(b.fields.foo.name,"foo"),a.strictEqual(b.fields.foo.modes.length,1),a.strictEqual(b.fields.foo.modes[0].count,1),a.strictEqual(b.fields.foo.modes[0].value,"bar"),a.ok(b.fields.foo.modes[0].is_exact),c.cancel(d)}],function(b){a.ok(!b),a.done()})},"Callback#Search timeline":function(a){var b=h(),c=this;e.chain([function(a){c.service.jobs().search('search index=_internal | head 1 | eval foo="bar" | fields foo',{id:b,status_buckets:300,rf:["foo"],exec_mode:"blocking"},a)},function(a,b){a.timeline({},b)},function(b,c,d){a.ok(c),a.ok(b),a.strictEqual(b.buckets.length,1),a.strictEqual(b.event_count,1),a.strictEqual(b.buckets[0].available_count,1),a.strictEqual(b.buckets[0].duration,.001),a.strictEqual(b.buckets[0].earliest_time_offset,b.buckets[0].latest_time_offset),a.strictEqual(b.buckets[0].total_count,1),a.ok(b.buckets[0].is_finalized),c.cancel(d)}],function(b){a.ok(!b),a.done()})},"Callback#Touch":function(a){var b=h(),c=this,d="";e.chain([function(a){c.service.jobs().search("search index=_internal | head 1",{id:b},a)},function(a,b){a.refresh(b)},function(b,c){a.ok(b),d=b.properties().content.updated,e.sleep(1200,function(){b.touch(c)})},function(a,b){a.refresh(b)},function(b,c){a.ok(d!==b.properties().updated),b.cancel(c)}],function(b){a.ok(!b),a.done()})},"Callback#Oneshot search":function(a){var b=h(),c=this,d="";e.chain([function(a){c.service.jobs().oneshotSearch("search index=_internal | head 1 | stats count",{id:b},a)},function(b,c){a.ok(b),a.ok(b.fields),a.strictEqual(b.fields.length,1),a.strictEqual(b.fields[0],"count"),a.ok(b.rows),a.strictEqual(b.rows.length,1),a.strictEqual(b.rows[0].length,1),a.strictEqual(b.rows[0][0],"1"),c()}],function(b){a.ok(!b),a.done()})},"Callback#Service oneshot search":function(a){var b=h(),c=this,d="";e.chain([function(a){c.service.oneshotSearch("search index=_internal | head 1 | stats count",{id:b},a)},function(b,c){a.ok(b),a.ok(b.fields),a.strictEqual(b.fields.length,1),a.strictEqual(b.fields[0],"count"),a.ok(b.rows),a.strictEqual(b.rows.length,1),a.strictEqual(b.rows[0].length,1),a.strictEqual(b.rows[0][0],"1"),c()}],function(b){a.ok(!b),a.done()})},"Callback#Service search":function(a){var b=h(),c=this.service,d=this;e.chain([function(a){d.service.search("search index=_internal | head 1 | stats count",{id:b},a)},function(c,d){a.strictEqual(c.sid,b),f.pollUntil(c,function(a){return c.properties().content.isDone},10,d)},function(a,b){a.results({},b)},function(b,c,d){a.strictEqual(b.rows.length,1),a.strictEqual(b.fields.length,1),a.strictEqual(b.fields[0],"count"),a.strictEqual(b.rows[0][0],"1"),c.cancel(d)}],function(b){a.ok(!b),a.done()})}},"App Tests":{setUp:function(a){this.service=b,a()},"Callback#list applications":function(a){var b=this.service.apps();b.refresh(function(b,c){var d=c.list();a.ok(d.length>0),a.done()})},"Callback#contains applications":function(a){var b=this.service.apps();b.refresh(function(b,c){var d=c.contains("search");a.ok(d),a.done()})},"Callback#create + contains app":function(a){var b="jssdk_testapp_"+h(),c=this.service.apps();c.create({name:b},function(b,d){var e=d.properties().name;c.refresh(function(b,c){var f=c.contains(e);a.ok(f),d.remove(function(){a.done()})})})},"Callback#create + modify app":function(a){var b="TEST DESCRIPTION",c="1.1",d="jssdk_testapp_"+h(),f=this.service.apps();e.chain([function(a){f.create({name:d},a)},function(a,d){a.update({description:b,version:c},d)},function(b,c){a.ok(b),b.refresh(c)},function(d,e){a.ok(d);var f=d.properties();a.strictEqual(f.content.description,b),a.strictEqual(f.content.version,c),d.remove(e)},function(b){a.done(),b()}])},"Callback#delete test applications":function(a){var b=this.service.apps();b.refresh(function(b,c){var f=c.list();e.parallelEach(f,function(a,b,c){d.startsWith(a.properties().name,"jssdk_")?a.remove(c):c()},function(b){a.ok(!b),a.done()})})}},"Saved Search Tests":{setUp:function(a){this.service=b,a()},"Callback#list":function(a){var b=this.service.savedSearches();b.refresh(function(b,c){var d=c.list();a.ok(d.length>0);for(var e=0;e<d.length;e++)a.ok(d[e]);a.done()})},"Callback#contains":function(a){var b=this.service.savedSearches();b.refresh(function(b,c){var d=c.contains("Indexing workload");a.ok(d),a.done()})},"Callback#history":function(a){var b=this.service.savedSearches();b.refresh(function(b,c){var d=c.contains("Indexing workload");a.ok(d),d.history(function(b,c,d){a.ok(!b),a.done()})})},"Callback#suppress":function(a){var b=this.service.savedSearches();b.refresh(function(b,c){var d=c.contains("Indexing workload");a.ok(d),d.suppressInfo(function(b,c,d){a.ok(!b),a.done()})})},"Callback#list limit count":function(a){var b=this.service.savedSearches();b.refresh({count:2},function(b,c){var d=c.list();a.strictEqual(d.length,2);for(var e=0;e<d.length;e++)a.ok(d[e]);a.done()})},"Callback#list filter":function(a){var b=this.service.savedSearches();b.refresh({search:"Error"},function(b,c){var d=c.list();a.ok(d.length>0);for(var e=0;e<d.length;e++)a.ok(d[e]);a.done()})},"Callback#list offset":function(a){var b=this.service.savedSearches();b.refresh({offset:2,count:1},function(b,c){var d=c.list();a.strictEqual(d.length,1);for(var e=0;e<d.length;e++)a.ok(d[e]);a.done()})},"Callback#create + modify + delete saved search":function(a){var b="jssdk_savedsearch",c="search * | head 1",d="search * | head 10",f="description",g=this.service.savedSearches({owner:this.service.username,app:"new_english"});e.chain([function(a){g.create({search:c,name:b},a)},function(e,f){a.ok(e),a.strictEqual(e.properties().name,b),a.strictEqual(e.properties().content.search,c),a.ok(!e.properties().content.description),e.update({search:d},f)},function(c,e){a.ok(c),a.ok(c),a.strictEqual(c.properties().name,b),a.strictEqual(c.properties().content.search,d),a.ok(!c.properties().content.description),c.update({description:f},e)},function(c,e){a.ok(c),a.ok(c),a.strictEqual(c.properties().name,b),a.strictEqual(c.properties().content.search,d),a.strictEqual(c.properties().content.description,f),c.remove(e)}],function(b){a.ok(!b),a.done()})},"Callback#delete test saved searches":function(a){var b=this.service.savedSearches({owner:this.service.username,app:"new_english"});b.refresh(function(b,c){var f=c.list();e.parallelEach(f,function(a,b,c){d.startsWith(a.properties().name,"jssdk_")?a.remove(c):c()},function(b){a.ok(!b),a.done()})})}},"Properties Tests":{setUp:function(a){this.service=b,a()},"Callback#list":function(a){var b=this;e.chain([function(a){b.service.properties().refresh(a)},function(b,c){var d=b.list();a.ok(d.length>0),c()}],function(b){a.ok(!b),a.done()})},"Callback#contains":function(a){var b=this;e.chain([function(a){b.service.properties().refresh(a)},function(b,c){var d=b.contains("web");a.ok(d),d.refresh(c)},function(b,c){a.strictEqual(b.properties().name,"web"),c()}],function(b){a.ok(!b),a.done()})},"Callback#contains stanza":function(a){var b=this;e.chain([function(a){b.service.properties().refresh(a)},function(b,c){var d=b.contains("web");a.ok(d),d.refresh(c)},function(b,c){a.strictEqual(b.properties().name,"web");var d=b.contains("settings");a.ok(d),d.refresh(c)},function(b,c){a.ok(b.properties().content.hasOwnProperty("httpport")),c()}],function(b){a.ok(!b),a.done()})},"Callback#create file + create stanza + update stanza":function(a){var d=this,g="jssdk_file",i="barfoo_"+h();e.chain([function(a){var b=d.service.properties();b.refresh(a)},function(a,b){a.create(g,b)},function(a,b){a.create("stanza",b)},function(a,b){a.update({jssdk_foobar:i}),f.pollUntil(a,function(a){return a.properties().content.jssdk_foobar===i},10,b)},function(b,c){a.strictEqual(b.properties().content.jssdk_foobar,i),c()},function(a){var d=new c.Service.PropertyFile(b,g);d.refresh(a)},function(b,c){var d=b.contains("stanza");a.ok(d),d.remove(c)}],function(b){a.ok(!b),a.done()})}},"Configuration Tests":{setUp:function(a){this.service=b,a()},"Callback#list":function(a){var b=this,c={owner:"admin",app:"search"};e.chain([function(a){b.service.configurations(c).refresh(a)},function(b,c){var d=b.list();a.ok(d.length>0),c()}],function(b){a.ok(!b),a.done()})},"Callback#contains":function(a){var b=this,c={owner:"admin",app:"search"};e.chain([function(a){b.service.configurations(c).refresh(a)},function(b,c){var d=b.contains("web");a.ok(d),d.refresh(c)},function(b,c){a.strictEqual(b.properties().name,"conf-web"),c()}],function(b){a.ok(!b),a.done()})},"Callback#contains stanza":function(a){var b=this,c={owner:"admin",app:"search"};e.chain([function(a){b.service.configurations(c).refresh(a)},function(b,c){var d=b.contains("web");a.ok(d),d.refresh(c)},function(b,c){a.strictEqual(b.properties().name,"conf-web");var d=b.contains("settings");a.ok(d),d.refresh(c)},function(b,c){a.ok(b.properties().content.hasOwnProperty("httpport")),c()}],function(b){a.ok(!b),a.done()})},"Callback#create file + create stanza + update stanza":function(a){var d=this,g={owner:"nobody",app:"system"},i="jssdk_file",j="barfoo_"+h();e.chain([function(a){var c=b.configurations(g);c.refresh(a)},function(a,b){a.create({__conf:i},b)},function(a,b){a.create("stanza",b)},function(a,b){a.update({jssdk_foobar:j}),f.pollUntil(a,function(a){return a.properties().content.jssdk_foobar===j},10,b)},function(b,c){a.strictEqual(b.properties().content.jssdk_foobar,j),c()},function(a){var d=new c.Service.ConfigurationFile(b,i);d.refresh(a)},function(b,c){var d=b.contains("stanza");a.ok(d),d.remove(c)}],function(b){a.ok(!b),a.done()})}},"Index Tests":{setUp:function(a){this.service=b;var c=this.indexName="sdk-tests",d=this.service.indexes();d.create(c,{},function(b,c){if(b&&b.status!==409)throw new Error("Index creation failed for an unknown reason");a()})},"Callback#list indexes":function(a){var b=this.service.indexes();b.refresh(function(b,c){var d=c.list();a.ok(d.length>0),a.done()})},"Callback#contains index":function(a){var b=this.service.indexes(),c=this.indexName;b.refresh(function(b,d){var e=d.contains(c);a.ok(e),a.done()})},"Callback#modify index":function(a){var b=this.indexName,c=this.service.indexes(),d=!1;e.chain([function(a){c.refresh(a)},function(c,e){var f=c.contains(b);a.ok(f),d=f.properties().content.assureUTF8,f.update({assureUTF8:!d},e)},function(b,c){a.ok(b);var e=b.properties();a.strictEqual(!d,e.content.assureUTF8),b.update({assureUTF8:!e.assureUTF8},c)},function(b,c){a.ok(b);var e=b.properties();a.strictEqual(d,e.content.assureUTF8),c()},function(a){a()}],function(b){a.ok(!b),a.done()})},"Callback#Index submit event":function(a){var b="Hello World -- "+h(),c="sdk-tests",d=null,f=this.indexName,g=this.service.indexes();e.chain([function(a){g.refresh(a)},function(e,g){var h=e.contains(f);a.ok(h),a.strictEqual(h.properties().name,f),d=h.properties().content.totalEventCount,h.submitEvent(b,{sourcetype:c},g)},function(d,e,g){a.ok(d),a.strictEqual(d.sourcetype,c),a.strictEqual(d.bytes,b.length),a.strictEqual(d._index,f),g()}],function(b){a.ok(!b),a.done()})}},"User Tests":{setUp:function(a){this.service=b,a()},"Callback#Current user":function(a){var b=this.service;b.currentUser(function(c,d){a.ok(!c),a.ok(d),a.strictEqual(d.properties().name,b.username),a.done()})},"Callback#List users":function(a){var b=this.service;b.users().refresh(function(b,c){var d=c.list();a.ok(!b),a.ok(c),a.ok(d),a.ok(d.length>0),a.done()})},"Callback#Create + update + delete user":function(a){var b=this.service,c="jssdk_testuser";e.chain([function(a){b.users().create({name:"jssdk_testuser",password:"abc",roles:"user"},a)},function(b,c){a.ok(b),b.refresh(c)},function(b,d){a.ok(b),a.strictEqual(b.properties().name,c),a.strictEqual(b.properties().content.roles.length,1),a.strictEqual(b.properties().content.roles[0],"user"),b.update({realname:"JS SDK",roles:["admin","user"]},d)},function(b,c){a.ok(b),a.strictEqual(b.properties().content.realname,"JS SDK"),a.strictEqual(b.properties().content.roles.length,2),a.strictEqual(b.properties().content.roles[0],"admin"),a.strictEqual(b.properties().content.roles[1],"user"),b.remove(c)}],function(b){a.ok(!b),a.done()})},"Callback#delete test users":function(a){var b=this.service.users();b.refresh(function(b,c){var f=c.list();e.parallelEach(f,function(a,b,c){d.startsWith(a.properties().name,"jssdk_")?a.remove(c):c()},function(b){a.ok(!b),a.done()})})}},"View Tests":{setUp:function(a){this.service=b,a()},"Callback#List views":function(a){var b=this.service;b.views({owner:"admin",app:"search"}).refresh(function(b,c){a.ok(!b),a.ok(c);var d=c.list();a.ok(d),a.ok(d.length>0);for(var e=0;e<d.length;e++)a.ok(d[e]);a.done()})},"Callback#Create + update + delete view":function(a){var b=this.service,c="jssdk_testview",d="<view/>",f="<view isVisible='false'></view>";e.chain([function(a){b.views({owner:"admin",app:"new_english"}).create({name:c,"eai:data":d},a)},function(b,e){a.ok(b),a.strictEqual(b.properties().name,c),a.strictEqual(b.properties().content["eai:data"],d),b.update({"eai:data":f},e)},function(b,c){a.ok(b),a.strictEqual(b.properties().content["eai:data"],f),b.remove(c)}],function(b){a.ok(!b),a.done()})}}}};if(b===a.main){var f=a("../splunk"),g=a("../internal/cmdline"),h=a("../contrib/nodeunit/test_reporter"),i=g.create(),j=i.parse(process.argv);if(!j)throw new Error("Error in parsing command line parameters");var k=new f.Service({scheme:j.opts.scheme,host:j.opts.host,port:j.opts.port,username:j.opts.username,password:j.opts.password}),l=c.setup(k);k.login(function(a,b){if(a||!b)throw new Error("Login failed - not running tests",a||"");h.run([{Tests:l}])})}}),require.define("/tests/utils.js",function(a,b,c,d,e){(function(){"use strict";var b=a("../lib/async"),d=c||this;d.bind=function(a,b){return function(){return b.apply(a,arguments)}},d.pollUntil=function(a,c,d,e){e=e||function(){};var f=0,g=!0;b.whilst(function(){return!c(a)&&f++<d},function(c){b.sleep(500,function(){a.refresh(c)})},function(b){e(b,a)})}})()}),require.define("/tests/test_searcher.js",function(a,b,c,d,e){c.setup=function(b){var c=a("../splunk"),d=c.Utils,e=c.Async,f=c.Searcher;c.Logger.setLevel("ALL");var g=0,h=function(){return"id"+g++ +"_"+(new Date).valueOf()};return{setUp:function(a){this.service=b,a()},"Callback#Searcher + Results":function(a){var b=h(),c=this;e.chain([function(a){c.service.jobs().create("search index=_internal | head 10",{id:b},a)},function(b,c){var d=new f.JobManager(a.service,b);d.done(c)},function(b,c){var d=b.resultsIterator(2),f=0,g=0,h=!0;e.whilst(function(){return h},function(a){d.next(function(b,c,d){h=c,c&&(g++,f+=d.rows.length),a()})},function(d){a.ok(!d),a.ok(g>0),a.strictEqual(f,10),c(null,b)})},function(a,b){a.cancel(b)}],function(b){a.ok(!b),a.done()})},"Callback#Searcher + Events":function(a){var b=h(),c=this;e.chain([function(a){c.service.jobs().create("search index=_internal | head 10",{id:b},a)},function(b,c){var d=new f.JobManager(a.service,b);d.done(c)},function(b,c){var d=b.eventsIterator(2),f=0,g=0,h=!0;e.whilst(function(){return h},function(a){d.next(function(b,c,d){h=c,c&&(g++,f+=d.rows.length),a()})},function(d){a.ok(!d),a.ok(g>0),a.strictEqual(f,10),c(null,b)})},function(a,b){a.cancel(b)}],function(b){a.ok(!b),a.done()})},"Callback#Searcher + Preview":function(a){var b=h(),c=this;e.chain([function(a){c.service.jobs().create("search index=_internal | head 10",{id:b},a)},function(b,c){var d=new f.JobManager(a.service,b);d.done(c)},function(b,c){var d=b.previewIterator(2),f=0,g=0,h=!0;e.whilst(function(){return h},function(a){d.next(function(b,c,d){h=c,c&&(g++,f+=d.rows.length),a()})},function(d){a.ok(!d),a.ok(g>0),a.strictEqual(f,10),c(null,b)})},function(a,b){a.cancel(b)}],function(b){a.ok(!b),a.done()})}}};if(b===a.main){var f=a("../splunk"),g=a("../internal/cmdline"),h=a("../contrib/nodeunit/test_reporter"),i=g.create(),j=i.parse(process.argv);if(!j)throw new Error("Error in parsing command line parameters");var k=new f.Service({scheme:j.opts.scheme,host:j.opts.host,port:j.opts.port,username:j.opts.username,password:j.opts.password}),l=c.setup(k);k.login(function(a,b){if(a||!b)throw new Error("Login failed - not running tests",a||"");h.run([{Tests:l}])})}}),require.define("/tests/test_examples.js",function(a,b,c,d,e){c.setup=function(b,c){var d=a("../splunk"),e=d.Async;d.Logger.setLevel("ALL");var f=0,g=function(){return"id"+f++ +"_"+(new Date).valueOf()},h=["program","script"];return{"Hello World Tests":{Apps:function(b){var d=a("../examples/node/helloworld/apps").main;d(c,b.done)},"Apps#Async":function(b){var d=a("../examples/node/helloworld/apps_async").main;d(c,b.done)},"Saved Searches":function(b){var d=a("../examples/node/helloworld/savedsearches").main;d(c,b.done)},"Saved Searches#Async":function(b){var d=a("../examples/node/helloworld/savedsearches_async").main;d(c,b.done)},"Search#normal":function(b){var d=a("../examples/node/helloworld/search_normal").main;d(c,b.done)},"Search#blocking":function(b){var d=a("../examples/node/helloworld/search_blocking").main;d(c,b.done)},"Search#oneshot":function(b){var d=a("../examples/node/helloworld/search_oneshot").main;d(c,b.done)},"Search#realtime":function(b){var d=a("../examples/node/helloworld/search_realtime").main;d(c,b.done)}},"Jobs Example Tests":{setUp:function(b){var c=this;this.main=a("../examples/node/jobs").main,this.run=function(a,b,d,e){var f=h.slice();a&&f.push(a);if(b)for(var g=0;g<b.length;g++)f.push(b[g]);if(d)for(var i in d)d.hasOwnProperty(i)&&(f.push("--"+i),f.push(d[i]));return c.main(f,e)},b()},help:function(a){this.run(null,null,null,function(b){a.ok(!!b),a.done()})},"List jobs":function(a){this.run("list",null,null,function(b){a.ok(!b),a.done()})},"Create job":function(a){var b={search:"search index=_internal | head 1",id:g()},c=this;c.run("create",[],b,function(d){a.ok(!d),c.run("cancel",[b.id],null,function(b){a.ok(!b),a.done()})})},"Cancel job":function(a){var b={search:"search index=_internal | head 1",id:g()},c=this;c.run("create",[],b,function(d){a.ok(!d),c.run("cancel",[b.id],null,function(b){a.ok(!b),a.done()})})},"List job properties":function(a){var b={search:"search index=_internal | head 1",id:g()},c=this;c.run("create",[],b,function(d){a.ok(!d),c.run("list",[b.id],null,function(d){a.ok(!d),c.run("cancel",[b.id],null,function(b){a.ok(!b),a.done()})})})},"List job events":function(a){var b={search:"search index=_internal | head 1",id:g()},c=this;c.run("create",[],b,function(d){a.ok(!d),c.run("events",[b.id],null,function(d){a.ok(!d),c.run("cancel",[b.id],null,function(b){a.ok(!b),a.done()})})})},"Create+list multiple jobs":function(a){var b=[];for(var c=0;c<3;c++)b[c]={search:"search index=_internal | head 1",id:g()};var d=b.map(function(a){return a.id}),f=this;e.parallelMap(b,function(b,c,d){f.run("create",[],b,function(c,e){a.ok(!c),a.ok(e),a.strictEqual(e.sid,b.id),d(null,e)})},function(c,e){for(var g=0;g<e.length;g++)a.strictEqual(b[g].id,e[g].sid);f.run("list",d,null,function(b){a.ok(!b),f.run("cancel",d,null,function(b){a.ok(!b),a.done()})})})}},"Conf Example Tests":{setUp:function(b){var c=this;this.main=a("../examples/node/conf").main,this.run=function(a,b,d,e){var f=h.slice();a&&f.push(a);if(b)for(var g=0;g<b.length;g++)f.push(b[g]);if(d)for(var i in d)d.hasOwnProperty(i)&&(f.push("--"+i),f.push(d[i]));return c.main(f,e)},b()},help:function(a){this.run(null,null,null,function(b){a.ok(!!b),a.done()})},"List files":function(a){this.run("files",null,null,function(b){a.ok(!b),a.done()})},"List files with pattern":function(a){this.run("files",["^v"],null,function(b){a.ok(!b),a.done()})},"List stanzas":function(a){this.run("stanzas",["web"],{app:"search",owner:"nobody"},function(b){a.ok(!b),a.done()})},"Show non-existent contents":function(a){this.run("contents",["json","settings"],{app:"search",owner:"nobody"},function(b){a.ok(b),a.done()})},"Show contents with specialization":function(a){this.run("contents",["json","settings"],{app:"new_english",owner:"nobody"},function(b){console.log(b),a.ok(!b),a.done()})},"Show contents with --global":function(a){this.run("contents",["json","settings","--global"],{},function(b){a.ok(!b),a.done()})},"Edit contents with no user set":function(a){this.run("edit",["json","settings","foo","bar"],{app:"new_english"},function(b){a.ok(b),a.done()})},"Edit contents":function(a){this.run("edit",["json","settings","foo","bar"],{app:"new_english",owner:"admin"},function(b){a.ok(!b),a.done()})},"Create file":function(a){this.run("create",["foo"],{app:"new_english",owner:"admin"},function(b){a.ok(!b),a.done()})},"Create stanza":function(a){var b={app:"new_english",owner:"admin"},c=this;this.run("create",["foo","bar"],b,function(d){a.ok(!d),c.run("delete",["foo","bar"],b,function(b){a.ok(!b),a.done()})})},"Create key=value":function(a){var b={app:"new_english",owner:"admin"},c=this;this.run("create",["foo","bar","abc","123"],b,function(d){a.ok(!d),c.run("delete",["foo","bar"],b,function(b){a.ok(!b),a.done()})})},"Create+delete stanza":function(a){var b={app:"new_english",owner:"admin"},c=this;this.run("create",["foo","bar"],b,function(d){a.ok(!d),c.run("delete",["foo","bar"],b,function(b){a.ok(!b),a.done()})})}},"Search Example Tests":{setUp:function(b){var c=this;this.main=a("../examples/node/search").main,this.run=function(a,b,d,e){var f=h.slice();a&&f.push(a);if(b)for(var g=0;g<b.length;g++)f.push(b[g]);if(d)for(var i in d)d.hasOwnProperty(i)&&(f.push("--"+i),f.push(d[i]));return c.main(f,e)},b()},"Create regular search":function(a){var b={search:"search index=_internal | head 5"};this.run(null,null,b,function(b){a.ok(!b),a.done()})},"Create regular search with verbose":function(a){var b={search:"search index=_internal | head 5"};this.run(null,["--verbose"],b,function(b){a.ok(!b),a.done()})},"Create oneshot search":function(a){var b={search:"search index=_internal | head 5",exec_mode:"oneshot"};this.run(null,["--verbose"],b,function(b){a.ok(!b),a.done()})},"Create normal search with reduced count":function(a){var b={search:"search index=_internal | head 20",count:10};this.run(null,["--verbose"],b,function(b){a.ok(!b),a.done()})}},"Results Example Tests":{"Parse row results":function(c){var d=a("../examples/node/results").main;b.search("search index=_internal | head 1 | stats count by sourcetype",{exec_mode:"blocking"},function(a,b){c.ok(!a),b.results({output_mode:"rows"},function(a,b){c.ok(!a),process.stdin.emit("data",JSON.stringify(b)),process.stdin.emit("end")})}),d([],function(a){c.ok(!a),c.done()})},"Parse column results":function(c){var d=a("../examples/node/results").main;b.search("search index=_internal | head 10 | stats count by sourcetype",{exec_mode:"blocking"},function(a,b){c.ok(!a),b.results({output_mode:"json_cols"},function(a,b){c.ok(!a),process.stdin.emit("data",JSON.stringify(b)),process.stdin.emit("end")})}),d([],function(a){c.ok(!a),c.done()})},"Close stdin":function(a){process.stdin.destroy(),a.done()}}}};if(b===a.main){var f=a("../splunk"),g=a("../contrib/nodeunit/test_reporter"),h=a("../internal/cmdline"),i=h.create(),j=i.parse(process.argv);if(!j)throw new Error("Error in parsing command line parameters");var k=new f.Service({scheme:j.opts.scheme,host:j.opts.host,port:j.opts.port,username:j.opts.username,password:j.opts.password}),l=c.setup(k,j.opts);k.login(function(a,b){if(a||!b)throw new Error("Login failed - not running tests",a||"");g.run([{Tests:l}])})}}),require.define("/examples/node/helloworld/apps.js",function(a,b,c,d,e){var f=a("../../../splunk");c.main=function(a,b){a=a||{};var c=a.username||"admin",d=a.password||"changeme",e=a.scheme||"https",g=a.host||"localhost",h=a.port||"8089",i=new f.Service({username:c,password:d,scheme:e,host:g,port:h});i.login(function(a,c){if(a||!c){console.log("Error in logging in"),b(a||"Login failed");return}i.apps().refresh(function(a,c){if(a){console.log("There was an error retrieving the list of applications:",a),b(a);return}var d=c.list();console.log("Applications:");for(var e=0;e<d.length;e++){var f=d[e];console.log("  App "+e+": "+f.name)}b()})})},b===a.main&&c.main({},function(){})}),require.define("/examples/node/helloworld/apps_async.js",function(a,b,c,d,e){var f=a("../../../splunk"),g=f.Async;c.main=function(a,b){a=a||{};var c=a.username||"admin",d=a.password||"changeme",e=a.scheme||"https",h=a.host||"localhost",i=a.port||"8089",j=new f.Service({username:c,password:d,scheme:e,host:h,port:i});g.chain([function(a){j.login(a)},function(a,b){a||b("Error logging in"),j.apps().refresh(b)},function(a,b){var c=a.list();console.log("Applications:");for(var d=0;d<c.length;d++){var e=c[d];console.log("  App "+d+": "+e.name)}b()}],function(a){b(a)})},b===a.main&&c.main({},function(){})}),require.define("/examples/node/helloworld/savedsearches.js",function(a,b,c,d,e){var f=a("../../../splunk");c.main=function(a,b){a=a||{};var c=a.username||"admin",d=a.password||"changeme",e=a.scheme||"https",g=a.host||"localhost",h=a.port||"8089",i=new f.Service({username:c,password:d,scheme:e,host:g,port:h});i.login(function(a,c){if(a||!c){console.log("Error in logging in"),b(a||"Login failed");return}i.savedSearches().refresh(function(a,c){if(a){console.log("There was an error retrieving the list of saved searches:",a),b(a);return}var d=c.list();console.log("Saved searches:");for(var e=0;e<d.length;e++){var f=d[e];console.log("  Search "+e+": "+f.name),console.log("    "+f.properties().content.search)}b()})})},b===a.main&&c.main({},function(){})}),require.define("/examples/node/helloworld/savedsearches_async.js",function(a,b,c,d,e){var f=a("../../../splunk"),g=f.Async;c.main=function(a,b){a=a||{};var c=a.username||"admin",d=a.password||"changeme",e=a.scheme||"https",h=a.host||"localhost",i=a.port||"8089",j=new f.Service({username:c,password:d,scheme:e,host:h,port:i});g.chain([function(a){j.login(a)},function(a,b){a||b("Error logging in"),j.savedSearches().refresh(b)},function(a,b){var c=a.list();console.log("Saved searches:");for(var d=0;d<c.length;d++){var e=c[d];console.log("  Search "+d+": "+e.name),console.log("    "+e.properties().content.search)}b()}],function(a){b(a)})},b===a.main&&c.main({},function(){})}),require.define("/examples/node/helloworld/search_normal.js",function(a,b,c,d,e){var f=a("../../../splunk"),g=f.Async;c.main=function(a,b){a=a||{};var c=a.username||"admin",d=a.password||"changeme",e=a.scheme||"https",h=a.host||"localhost",i=a.port||"8089",j=new f.Service({username:c,password:d,scheme:e,host:h,port:i});g.chain([function(a){j.login(a)},function(a,b){a||b("Error logging in"),j.search("search index=_internal | head 3",{},b)},function(a,b){g.whilst(function(){return!a.properties().content.isDone},function(b){g.sleep(1e3,function(){a.refresh(function(c){console.log("-- refreshing, "+(a.properties().content.eventCount||0)+" events so far"),b()})})},function(c){console.log("-- job done --"),b(c,a)})},function(a,b){console.log("Job Statistics: "),console.log("  Event Count: "+a.properties().content.eventCount),console.log("  Disk Usage: "+a.properties().content.diskUsage+" bytes"),console.log("  Priority: "+a.properties().content.priority),a.results({},b)},function(a,b,c){var d=a.fields.indexOf("_raw"),e=a.fields.indexOf("sourcetype"),f=a.fields.indexOf("user");console.log("Results: ");for(var g=0;g<a.rows.length;g++)console.log("  Result "+g+": "),console.log("    sourcetype: "+a.rows[g][e]),console.log("    user: "+a.rows[g][f]),console.log("    _raw: "+a.rows[g][d]);b.cancel(c)}],function(a){b(a)})},b===a.main&&c.main({},function(){})}),require.define("/examples/node/helloworld/search_blocking.js",function(a,b,c,d,e){var f=a("../../../splunk"),g=f.Async;c.main=function(a,b){a=a||{};var c=a.username||"admin",d=a.password||"changeme",e=a.scheme||"https",h=a.host||"localhost",i=a.port||"8089",j=new f.Service({username:c,password:d,scheme:e,host:h,port:i});g.chain([function(a){j.login(a)},function(a,b){a||b("Error logging in"),j.search("search index=_internal | head 3",{exec_mode:"blocking"},b)},function(a,b){a.refresh(b)},function(a,b){console.log("Job Statistics: "),console.log("  Event Count: "+a.properties().content.eventCount),console.log("  Disk Usage: "+a.properties().content.diskUsage+" bytes"),console.log("  Priority: "+a.properties().content.priority),a.results({},b)},function(a,b,c){var d=a.fields.indexOf("_raw"),e=a.fields.indexOf("sourcetype"),f=a.fields.indexOf("user");console.log("Results: ");for(var g=0;g<a.rows.length;g++)console.log("  Result "+g+": "),console.log("    sourcetype: "+a.rows[g][e]),console.log("    user: "+a.rows[g][f]),console.log("    _raw: "+a.rows[g][d]);b.cancel(c)}],function(a){b(a)})},b===a.main&&c.main({},function(){})}),require.define("/examples/node/helloworld/search_oneshot.js",function(a,b,c,d,e){var f=a("../../../splunk"),g=f.Async;c.main=function(a,b){a=a||{};var c=a.username||"admin",d=a.password||"changeme",e=a.scheme||"https",h=a.host||"localhost",i=a.port||"8089",j=new f.Service({username:c,password:d,scheme:e,host:h,port:i});g.chain([function(a){j.login(a)},function(a,b){a||b("Error logging in"),j.oneshotSearch("search index=_internal | head 3",{},b)},function(a,b){var c=a.fields.indexOf("_raw"),d=a.fields.indexOf("sourcetype"),e=a.fields.indexOf("user");console.log("Results: ");for(var f=0;f<a.rows.length;f++)console.log("  Result "+f+": "),console.log("    sourcetype: "+a.rows[f][d]),console.log("    user: "+a.rows[f][e]),console.log("    _raw: "+a.rows[f][c]);b()}],function(a){b(a)})},b===a.main&&c.main({},function(){})}),require.define("/examples/node/helloworld/search_realtime.js",function(a,b,c,d,e){var f=a("../../../splunk"),g=f.Async;c.main=function(a,b){a=a||{};var c=a.username||"admin",d=a.password||"changeme",e=a.scheme||"https",h=a.host||"localhost",i=a.port||"8089",j=new f.Service({username:c,password:d,scheme:e,host:h,port:i});g.chain([function(a){j.login(a)},function(a,b){a||b("Error logging in"),j.search("search index=_internal | stats count by sourcetype",{earliest_time:"rt",latest_time:"rt"},b)},function(a,b){var c=5,d=0;g.whilst(function(){return c>d},function(b){g.sleep(1e3,function(){a.preview({},function(a,c){if(a){b(a);return}if(c.rows){d++,console.log("========== Iteration "+d+" ==========");var e=c.fields.indexOf("sourcetype"),f=c.fields.indexOf("count");for(var g=0;g<c.rows.length;g++){var h=c.rows[g],i=("  "+h[e]+"                         ").slice(0,30);console.log(i+h[f])}console.log("=================================")}b()})})},function(c){a.cancel(b)})}],function(a){b(a)})},b===a.main&&c.main({},function(){})}),require.define("/examples/node/jobs.js",function(a,b,c,d,e){(function(){var d=a("../../splunk"),e=d.Class,f=d.Utils,g=d.Async,h=a("../../internal/cmdline"),i=["search","earliest_time","latest_time","now","time_format","exec_mode","search_mode","rt_blocking","rt_queue_size","rt_maxblocksecs","rt_indexfilter","id","status_buckets","max_count","max_time","timeout","auto_finalize_ec","enable_lookups","reload_macros","reduce_freq","spawn_process","required_field_list","rf","auto_cancel","auto_pause"],j=["offset","count","earliest_time","latest_time","search","time_format","output_time_format","field_list","f","max_lines","truncation_mode","output_mode","segmentation"],k=["offset","count","search","field_list","f","output_mode"],l=function(a){var b=a.fields,c=a.rows;for(var d=0;d<c.length;d++){var e=c[d];console.log("Row "+d+": ");for(var f=0;f<e.length;f++){var g=b[f],h=e[f];console.log("  "+g+": "+h)}}},m=function(a){var b=a.fields,c=a.columns;for(var d=0;d<c.length;d++){var e=c[d],f=b[d];console.log("Column "+f+" ("+d+"): ");for(var g=0;g<e.length;g++){var h=e[g];console.log("  "+h)}}},n=function(a,b){if(!b||b.length===0)throw new Error("'"+a+"' requires at least one SID")},o=e.extend({init:function(a){this.service=a,this.run=f.bind(this,this.run),this.cancel=f.bind(this,this.cancel),this.create=f.bind(this,this.create),this.events=f.bind(this,this.events),this.list=f.bind(this,this.list),this.preview=f.bind(this,this.preview),this.results=f.bind(this,this.results)},_foreach:function(a,b,c){a=a||[];var d=[];this.service.jobs().refresh(function(e,h){list=h.list()||[];for(var i=0;i<list.length;i++)if(f.contains(a,list[i].sid)){var j=list[i];d.push(j)}g.parallelMap(h,b,c)})},run:function(a,b,c,d){var e={cancel:this.cancel,create:this.create,events:this.events,list:this.list,preview:this.preview,results:this.results};if(!a){console.error("You must supply a command to run. Options are:");for(var f in e)e.hasOwnProperty(f)&&console.error("  "+f);d("No command was specified.");return}var g=e[a];if(!g){d("Unrecognized command: "+a);return}g(b,c,d)},cancel:function(a,b,c){n("cancel",a),this._foreach(a,function(a,b,c){a.cancel(function(b){if(b){c(b);return}console.log("  Job "+a.sid+" cancelled"),c()})},c)},events:function(a,b,c){this._foreach(a,function(a,c,d){a.events(b,function(c,e){console.log("===== EVENTS @ "+a.sid+" =====");if(c){d(c);return}var f=b.output_mode||"rows";f==="json_rows"?l(e):f==="json_cols"?(console.log(e),m(e)):console.log(e),d(null,e)})},c)},create:function(a,b,c){var d=b.search,e=b;delete e.search,this.service.jobs().create(d,e,function(a,b){if(a){c(a);return}console.log("Created job "+b.sid),c(null,b)})},list:function(a,b,c){a=a||[];if(a.length===0){var d=this.service.jobs();d.refresh(function(a,b){if(a){c(a);return}list=b.list()||[];for(var d=0;d<list.length;d++)console.log("  Job "+(d+1)+" sid: "+list[d].sid);c(null,list)})}else this._foreach(a,function(a,b,c){a.refresh(function(a,b){if(a){c(a);return}console.log("Job "+b.sid+": ");var d=b.properties();for(var e in d){if(f.contains(["performance"],e))continue;console.log("  "+e+": ",d[e])}c(null,d)})},c)},preview:function(a,b,c){this._foreach(a,function(a,c,d){a.preview(b,function(c,e){console.log("===== PREVIEW @ "+a.sid+" =====");if(c){d(c);return}var f=b.output_mode||"rows";f==="json_rows"?l(e):f==="json_cols"?(console.log(e),m(e)):console.log(e),d(null,e)})},c)},results:function(a,b,c){this._foreach(a,function(a,c,d){a.results(b,function(c,e){console.log("===== RESULTS @ "+a.sid+" =====");if(c){d(c);return}var f=b.output_mode||"rows";f==="json_rows"?l(e):f==="json_cols"?(console.log(e),m(e)):console.log(e),d(null,e)})},c)}});c.main=function(a,b){var c=h.create();b=b||function(a){a?console.log(a):console.log("==============")};var e=function(a){var e=arguments[arguments.length-1],f=new d.Service({scheme:c.opts.scheme,host:c.opts.host,port:c.opts.port,username:c.opts.username,password:c.opts.password});f.login(function(d,g){if(d){console.log("Error: "+d),b(d);return}var h=new o(f);h.run(a,c.args,e.opts,function(a){if(a){b(a);return}b.apply(null,arguments)})})};c.name="jobs",c.description("List, create and manage search jobs"),c.add("create","Create a new search job","",i,["search"],e),c.add("results","Fetch results for the specified search jobs","<sids...>",k,[],e),c.add("preview","Fetch preview results for the specified search jobs","<sids...>",k,[],e),c.add("events","Fetch events for the specified search jobs","<sids...>",j,[],e),c.add("cancel","Cancel the specify search jobs","<sids...>",[],[],e),c.add("list","List all search jobs or properties for those specified","[sids...]",[],[],e),c.parse(a);if(!c.executedCommand){console.log(c.helpInformation()),b("You must specify a command to run.");return}},b===a.main&&c.main(process.argv)})()}),require.define("/examples/node/conf.js",function(a,b,c,d,e){(function(){var d=a("../../splunk"),e=d.Class,f=d.Utils,g=d.Async,h=a("../../internal/cmdline"),i=function(a){return new d.Service({scheme:a.scheme,host:a.host,port:a.port,username:a.username,password:a.password})},j=function(a){return a&&a instanceof Error&&(a=a.message),a&&a.data&&(a=a.data.messages),a},k=e.extend({init:function(a,b){this.cmdline=a,this.callback=b},run:function(){var a=arguments,b=this;this.service=i(this.cmdline.opts);var c={files:this.files,stanzas:this.stanzas,contents:this.contents,edit:this.edit,create:this.create,"delete":this.del};this.service.login(function(d,e){if(d||!e){b.callback(d||"Login failure");return}c[b.cmdline.executedCommand].apply(b,a)})},files:function(a,b,c){a=a||".*";var d=this.service;g.chain([function(a){d.properties().refresh(a)},function(b,c){var d=b.list(),e=new RegExp(a);d=d.filter(function(a){return a.name.match(e)}),d.length>0&&(console.log("Configuration Files: "),d.forEach(function(a){console.log("  "+a.name)})),c()}],function(a){c(j(a))})},stanzas:function(a,b,c){var d=this.service;if(!(!b.global||!b.app&&!b.owner)){c("Cannot specify both --global and --owner or --app");return}if(!b.global&&(!b.app||!b.owner)){c("Non-global lookup has to specify --owner and --app");return}var e=null;if(b.app||b.owner)e={app:b.app,owner:b.owner},d=d.specialize(b.owner,b.app);g.chain([function(a){var c=b.global?d.properties():d.configurations(e);c.refresh(a)},function(b,c){var d=b.contains(a,e);if(!d){c("Could not find file '"+a+"'");return}d.refresh(c)},function(b,c){var d=b.list();d.length>0&&(console.log("Stanzas for '"+a+"': "),d.forEach(function(a){console.log("  "+a.name)})),c()}],function(a){c(j(a))})},contents:function(a,b,c,d){var e=["eai:userName","eai:appName"],f=this.service;if(!(!c.global||!c.app&&!c.owner)){d("Cannot specify both --global and --owner or --app");return}console.log("Missing: ",!c.global&&(!c.app||!c.owner));if(!c.global&&(!c.app||!c.owner)){d("Non-global lookup has to specify --owner and --app");return}var h=null;if(c.app||c.owner)h={app:c.app,owner:c.owner},f=f.specialize(c.owner,c.app);g.chain([function(a){var b=c.global?f.properties():f.configurations(h);b.refresh(a)},function(b,c){var d=b.contains(a,h);if(!d){c("Could not find file: '"+a+"'");return}d.refresh(c)},function(c,d){var e=c.contains(b);if(!e){d("Could not find stanza '"+b+"' in file '"+a+"'");return}e.refresh(d)},function(c,d){var f=[],g=c.properties().content;for(var h in g)g.hasOwnProperty(h)&&e.indexOf(h)<0&&f.push(h);f.length>0&&(console.log("Properties for "+a+".conf ["+b+"]: "),f.forEach(function(a){console.log("  "+a+": "+g[a])})),d()}],function(a){d(j(a))})},edit:function(a,b,c,d,e,f){var h=this.service;if(!(!e.global||!e.app&&!e.owner)){f("Cannot specify both --global and --owner or --app");return}if(!e.global&&(!e.app||!e.owner)){f("Non-global lookup has to specify --owner and --app");return}var i=null;if(e.app||e.owner)i={app:e.app,owner:e.owner},h=h.specialize(e.owner,e.app);g.chain([function(a){var b=e.global?h.properties():h.configurations(i);b.refresh(a)},function(b,c){var d=b.contains(a,i);if(!d){c("Could not find file: '"+a+"'");return}d.refresh(c)},function(c,d){var e=c.contains(b);if(!e){d("Could not find stanza '"+b+"' in file '"+a+"'");return}d(null,e)},function(a,b){var e={};e[c]=d,a.update(e,b)}],function(e){e||console.log("Set '"+c+"' to '"+d+"' in stanza '"+b+"' in file '"+a+"'"),f(j(e))})},create:function(a,b,c,e,f,h){var i=this.service;if(!(!f.global||!f.app&&!f.owner)){h("Cannot specify both --global and --owner or --app");return}if(!f.global&&(!f.app||!f.owner)){h("Non-global lookup has to specify --owner and --app");return}var k=null;if(f.app||f.owner)k={app:f.app,owner:f.owner},i=i.specialize(f.owner,f.app);var l=null;g.chain([function(a){l=f.global?i.properties():i.configurations(k),l.refresh(a)},function(c,d){var e=c.contains(a,k);if(!e){c.create(a,function(c,e){c||console.log("Created file '"+a+"'");if(b){d(null,e);return}e.refresh(d)});return}if(!b){d(null,e);return}e.refresh(d)},function(c,e){var g=b?c.contains(b):null;if(!b){e(null,g);return}if(!g){var c=f.global?new d.Service.PropertyFile(i,a):new d.Service.ConfigurationFile(i,a);c.create(b,{},function(c,d){if(c){e(c);return}c||console.log("Created stanza '"+b+"' in file '"+a+"'"),d.refresh(e)});return}g.refresh(e)},function(a,d){if(b&&c&&e){var f={};f[c]=e,a.update(f,d);return}d()}],function(d){c&&console.log("Set '"+c+"' to '"+e+"' in stanza '"+b+"' in file '"+a+"'"),h(j(d))})},del:function(a,b,c,d){var e=this.service;if(!(!c.global||!c.app&&!c.owner)){d("Cannot specify both --global and --owner or --app");return}if(!c.global&&(!c.app||!c.owner)){d("Non-global lookup has to specify --owner and --app");return}var f=null;if(c.app||c.owner)f={app:c.app,owner:c.owner},e=e.specialize(c.owner,c.app);g.chain([function(a){var b=c.global?e.properties():e.configurations(f);b.refresh(a)},function(b,c){var d=b.contains(a,f);if(!d){c("Could not find file: '"+a+"'");return}d.refresh(c)},function(c,d){var e=c.contains(b);if(!e){d("Could not find stanza '"+b+"' in file '"+a+"'");return}e.remove(d)}],function(c){c||console.log("Deleted stanza '"+b+"' in file '"+a+"'"),d(j(c))})}});c.main=function(a,b){d.Logger.setLevel("ALL"),b=b||function(a){a?console.log(a):console.log("==============")};var c=h.create(),e=new k(c,b);c.name="conf",c.description("View and edit configuration properties"),c.command("files [pattern]").description("List all configuration files. Optional pattern to filter files").action(function(a,c){e.run(a,c,b)}),c.command("stanzas <filename>").description("List all stanzas in the specified configuration file").option("-g, --global","Get the contents of the file from the global (indexing) view.").option("-u, --owner <owner>","Owner context to look in").option("-a, --app <app>","App context to look in").action(function(a,c){e.run(a,c,b)}),c.command("contents <filename> <stanza>").description("List all key=value properties of the specified file and stanza").option("-g, --global","Get the contents of the file from the global (indexing) view.").option("-u, --owner <owner>","Owner context to look in").option("-a, --app <app>","App context to look in").action(function(a,c,d){e.run(a,c,d,b)}),c.command("edit <filename> <stanza> <key> <value>").description("Edit the specified stanza").option("-g, --global","Get the contents of the file from the global (indexing) view.").option("-u, --owner <owner>","Owner context to look in").option("-a, --app <app>","App context to look in").action(function(a,c,d,f,g){e.run(a,c,d,f,g,b)}),c.command("create <filename> [stanza] [key] [value]").description("Create a file/stanza/key (will create up to the deepest level").option("-g, --global","Get the contents of the file from the global (indexing) view.").option("-u, --owner <owner>","Owner context to look in").option("-a, --app <app>","App context to look in").action(function(a,c,d,f,g){e.run(a,c,d,f,g,b)}),c.command("delete <filename> <stanza>").description("Delete the stanza in the specified file").option("-g, --global","Get the contents of the file from the global (indexing) view.").option("-u, --owner <owner>","Owner context to look in").option("-a, --app <app>","App context to look in").action(function(a,c,d){e.run(a,c,d,b)}),c.on("--help",function(){console.log("  Examples:"),console.log("  "),console.log("  List all files:"),console.log("  > node conf.js files"),console.log("  "),console.log("  List all files which start with 'foo':"),console.log("  > node conf.js files ^foo"),console.log("  "),console.log("  List all stanzas in file 'foo':"),console.log("  > node conf.js stanzas foo"),console.log("  "),console.log("  List the content of stanza 'bar' in file 'foo':"),console.log("  > node conf.js contents foo bar"),console.log("  "),console.log("  > List the content of stanza 'bar' in file 'foo' in the namespace of user1/app1:"),console.log("  node conf.js contents foo bar --owner user1 --app app1"),console.log("  "),console.log("  Set the key 'mykey' to value 'myval' in stanza 'bar' in file 'foo' in the namespace of user1/app1:"),console.log("  > node conf.js edit foo bar mykey myvalue --owner user1 --app app1"),console.log("  "),console.log("  Create a file 'foo' in the namespace of user1/app1:"),console.log("  > node conf.js create foo --owner user1 --app app1"),console.log("  "),console.log("  Create a stanza 'bar' in file 'foo' (and create if it doesn't exist) in the namespace of user1/app1:"),console.log("  > node conf.js create foo bar --owner user1 --app app1"),console.log("  "),console.log("  Delete stanza 'bar' in file 'foo':"),console.log("  > node conf.js delete foo bar"),console.log("  ")}),c.parse(a);if(!c.executedCommand){console.log(c.helpInformation()),c.emit("--help"),b("You must specify a command to run.");return}},b===a.main&&c.main(process.argv)})()}),require.define("/examples/node/search.js",function(a,b,c,d,e){(function(){var d=a("../../splunk"),e=d.Class,f=d.Utils,g=d.Async,h=a("../../internal/cmdline"),i=a("util").print,j=["search","earliest_time","latest_time","now","time_format","exec_mode","search_mode","rt_blocking","rt_queue_size","rt_maxblocksecs","rt_indexfilter","id","status_buckets","max_count","max_time","timeout","auto_finalize_ec","enable_lookups","reload_macros","reduce_freq","spawn_process","required_field_list","rf","auto_cancel","auto_pause"],k=function(a){return new d.Service({scheme:a.scheme,host:a.host,port:a.port,username:a.username,password:a.password})},l=function(a,b,c){var d=b.search,e=b.verbose,f=b.count||0,h=b.mode||"row";delete b.search,delete b.verbose,delete b.count,delete b.mode,g.chain([function(c){a.search(d,b,c)},function(a,b){g.whilst(function(){return!a.properties().content.isDone},function(b){a.refresh(function(a,d){if(a)c(a);else{var f=d.properties();if(e){var h=f.doneProgress*100+"%",j=f.scanCount,k=f.eventCount,l=f.resultCount,m="-- "+h+" done | "+j+" scanned | "+k+" matched | "+l+" results";i("\r"+m+"                                          ")}g.sleep(1e3,b)}})},function(c){e&&i("\r"),b(c,a)})},function(a,b){a.results({count:f,json_mode:h},b)},function(a,b,c){process.stdout.write(JSON.stringify(a)),b.cancel(c)}],function(a){c(a)})},m=function(a,b,c){var d=b.search;delete b.search,a.oneshotSearch(d,b,function(a,b){a?c(a):(console.log(JSON.stringify(b)),c())})};c.main=function(a,b){d.Logger.setLevel("NONE"),b=b||function(a){a&&console.log(a)};var c=h.create();c.name="search",c.description("Create a search and print the results to stdout"),c.option("--verbose","Output job progress as we wait for completion"),c.option("--count <count>","How many results to fetch"),c.option("--mode <mode>","Row or column mode [row|column]");var e=j,f=["search"];for(var g=0;g<e.length;g++){var i=f.indexOf(e[g])>=0,n="<"+e[g]+">";c.option("--"+e[g]+" "+n,"",undefined,i)}c.on("--help",function(){console.log("  Examples:"),console.log("  "),console.log("  Create a regular search:"),console.log("  > node search.js --search 'search index=_internal | head 10'"),console.log("  "),console.log("  Create a oneshot search:"),console.log("  > node search.js --search 'search index=_internal | head 10' --exec_mode oneshot"),console.log("  "),console.log("  Create a regular search and only return 10 results:"),console.log("  > node search.js --search 'search index=_internal | head 20' --count 10"),console.log("  "),console.log("  Create a regular search and output the progress while the search is running"),console.log("  > node search.js --search 'search index=_internal | head 20' --verbose"),console.log("  ")}),c.parse(a);var o=k(c.opts);o.login(function(a,d){if(a||!d){b("Error logging in");return}delete c.username,delete c.password,delete c.scheme,delete c.host,delete c.port,delete c.namespace,c.opts.exec_mode==="oneshot"?m(o,c.opts,b):l(o,c.opts,b)})},b===a.main&&c.main(process.argv)})()}),require.define("util",function(a,b,c,d,e){function g(a){return a instanceof Array||Array.isArray(a)||a&&a!==Object.prototype&&g(a.__proto__)}function h(a){return a instanceof RegExp||typeof a=="object"&&Object.prototype.toString.call(a)==="[object RegExp]"}function i(a){if(a instanceof Date)return!0;if(typeof a!="object")return!1;var b=Date.prototype&&n(Date.prototype),c=a.__proto__&&n(a.__proto__);return JSON.stringify(c)===JSON.stringify(b)}function j(a){return a<10?"0"+a.toString(10):a.toString(10)}function l(){var a=new Date,b=[j(a.getHours()),j(a.getMinutes()),j(a.getSeconds())].join(":");return[a.getDate(),k[a.getMonth()],b].join(" ")}var f=a("events");c.print=function(){},c.puts=function(){},c.debug=function(){},c.inspect=function(a,b,d,e){function k(a,d){if(a&&typeof a.inspect=="function"&&a!==c&&(!a.constructor||a.constructor.prototype!==a))return a.inspect(d);switch(typeof a){case"undefined":return j("undefined","undefined");case"string":var e="'"+JSON.stringify(a).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return j(e,"string");case"number":return j(""+a,"number");case"boolean":return j(""+a,"boolean")}if(a===null)return j("null","null");var l=m(a),o=b?n(a):l;if(typeof a=="function"&&o.length===0){if(h(a))return j(""+a,"regexp");var p=a.name?": "+a.name:"";return j("[Function"+p+"]","special")}if(i(a)&&o.length===0)return j(a.toUTCString(),"date");var q,r,s;g(a)?(r="Array",s=["[","]"]):(r="Object",s=["{","}"]);if(typeof a=="function"){var t=a.name?": "+a.name:"";q=h(a)?" "+a:" [Function"+t+"]"}else q="";i(a)&&(q=" "+a.toUTCString());if(o.length===0)return s[0]+q+s[1];if(d<0)return h(a)?j(""+a,"regexp"):j("[Object]","special");f.push(a);var u=o.map(function(b){var c,e;a.__lookupGetter__&&(a.__lookupGetter__(b)?a.__lookupSetter__(b)?e=j("[Getter/Setter]","special"):e=j("[Getter]","special"):a.__lookupSetter__(b)&&(e=j("[Setter]","special"))),l.indexOf(b)<0&&(c="["+b+"]"),e||(f.indexOf(a[b])<0?(d===null?e=k(a[b]):e=k(a[b],d-1),e.indexOf("\n")>-1&&(g(a)?e=e.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):e="\n"+e.split("\n").map(function(a){return"   "+a}).join("\n"))):e=j("[Circular]","special"));if(typeof c=="undefined"){if(r==="Array"&&b.match(/^\d+$/))return e;c=JSON.stringify(""+b),c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=j(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=j(c,"string"))}return c+": "+e});f.pop();var v=0,w=u.reduce(function(a,b){return v++,b.indexOf("\n")>=0&&v++,a+b.length+1},0);return w>50?u=s[0]+(q===""?"":q+"\n ")+" "+u.join(",\n  ")+" "+s[1]:u=s[0]+q+" "+u.join(", ")+" "+s[1],u}var f=[],j=function(a,b){var c={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d={special:"cyan",number:"blue","boolean":"yellow","undefined":"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[b];return d?"["+c[d][0]+"m"+a+"["+c[d][1]+"m":a};return e||(j=function(a,b){return a}),k(a,typeof d=="undefined"?2:d)};var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(a){},c.pump=null;var m=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b},n=Object.getOwnPropertyNames||function(a){var b=[];for(var c in a)Object.hasOwnProperty.call(a,c)&&b.push(c);return b},o=Object.create||function(a,b){var c;if(a===null)c={"__proto__":null};else{if(typeof a!="object")throw new TypeError("typeof prototype["+typeof a+"] != 'object'");var d=function(){};d.prototype=a,c=new d,c.__proto__=a}return typeof b!="undefined"&&Object.defineProperties&&Object.defineProperties(c,b),c};c.inherits=function(a,b){a.super_=b,a.prototype=o(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}}),require.define("events",function(a,b,c,d,e){process.EventEmitter||(process.EventEmitter=function(){});var f=c.EventEmitter=process.EventEmitter,g=typeof Array.isArray=="function"?Array.isArray:function(a){return Object.toString.call(a)==="[object Array]"},h=10;f.prototype.setMaxListeners=function(a){this._events||(this._events={}),this._events.maxListeners=a},f.prototype.emit=function(a){if(a==="error")if(!this._events||!this._events.error||g(this._events.error)&&!this._events.error.length)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var b=this._events[a];if(!b)return!1;if(typeof b=="function"){switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:var c=Array.prototype.slice.call(arguments,1);b.apply(this,c)}return!0}if(g(b)){var c=Array.prototype.slice.call(arguments,1),d=b.slice();for(var e=0,f=d.length;e<f;e++)d[e].apply(this,c);return!0}return!1},f.prototype.addListener=function(a,b){if("function"!=typeof b)throw new Error("addListener only takes instances of Function");this._events||(this._events={}),this.emit("newListener",a,b);if(!this._events[a])this._events[a]=b;else if(g(this._events[a])){if(!this._events[a].warned){var c;this._events.maxListeners!==undefined?c=this._events.maxListeners:c=h,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}this._events[a].push(b)}else this._events[a]=[this._events[a],b];return this},f.prototype.on=f.prototype.addListener,f.prototype.once=function(a,b){var c=this;return c.on(a,function d(){c.removeListener(a,d),b.apply(this,arguments)}),this},f.prototype.removeListener=function(a,b){if("function"!=typeof b)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[a])return this;var c=this._events[a];if(g(c)){var d=c.indexOf(b);if(d<0)return this;c.splice(d,1),c.length==0&&delete this._events[a]}else this._events[a]===b&&delete this._events[a];return this},f.prototype.removeAllListeners=function(a){return a&&this._events&&this._events[a]&&(this._events[a]=null),this},f.prototype.listeners=function(a){return this._events||(this._events={}),this._events[a]||(this._events[a]=[]),g(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]}}),require.define("/examples/node/results.js",function(a,b,c,d,e){(function(){var d=a("../../splunk"),e=d.Class,f=d.Utils,g=d.Async,h=a("../../internal/cmdline"),i=function(a){return new d.Service({scheme:a.scheme,host:a.host,port:a.port,username:a.username,password:a.password})},j=function(a){for(var b=0;b<a.rows.length;b++){console.log("Result "+(b+1)+": ");var c=a.rows[b];for(var d=0;d<a.fields.length;d++){var e=a.fields[d],f=c[d];console.log("  "+e+" = "+f)}}},k=function(a){var b=[],c=a.columns,d=function(a){return a.shift()};while(c.length>0&&c[0].length>0)b.push(c.map(d));return a.rows=b,a},l=function(a){if(a){var b=!!a.rows,c=a.rows?a.rows.length:(a.columns[0]||[]).length;console.log("====== "+c+" RESULTS (preview: "+!!a.preview+") ======"),b||(a=k(a)),j(a)}};c.main=function(a,b){d.Logger.setLevel("NONE");var c="",e=function(a){c+=a.toString("utf-8")},f=function(){var a=JSON.parse(c||"{}");l(a),b()},g=function(){b("ERROR")},h=b||function(){};b=function(){process.stdin.removeListener("data",e),process.stdin.removeListener("end",f),process.stdin.removeListener("error",g),process.stdin.pause(),h.apply(null,arguments)},process.stdin.on("data",e),process.stdin.on("end",f),process.stdin.on("error",g),process.stdin.resume()},b===a.main&&c.main(process.argv)})()}),require.define("/browser.test.entry.js",function(a,b,c,d,e){window.SplunkTest={Utils:a("../tests/test_utils"),Async:a("../tests/test_async"),Http:a("../tests/test_http"),Context:a("../tests/test_context"),Service:a("../tests/test_service"),Searcher:a("../tests/test_searcher"),Examples:a("../tests/test_examples")}}),require("/browser.test.entry.js")

})();